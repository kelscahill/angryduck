function A(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(l,i){var g,x,S,v,N,q,L,O;const{CART_STORE_KEY:j}=l.wc.wcBlocksData,{getCartData:m}=l.wp.data.select(j),y=(e=!0)=>{var t,r,n,s,u;if(l.wwppObj.onlyAllowWholesalePurchases==="no")return;const c=i.querySelector(".wp-block-woocommerce-proceed-to-checkout-block .wc-block-cart__submit-button"),o=i.querySelector(".wp-block-woocommerce-proceed-to-checkout-block .wwpp-notice");if(e&&o==null){const b=i.createElement("h4");b.innerText=l.wwppObj.i18n.minOrderQtyNotice,b.classList.add("wwpp-notice"),(t=c==null?void 0:c.parentNode)==null||t.insertBefore(b,c.nextSibling),(n=(r=i.querySelector("body"))==null?void 0:r.classList)==null||n.add("wwpp-block-cart-checkout-btn-hide")}else!e&&o!=null&&((u=(s=i.querySelector("body"))==null?void 0:s.classList)==null||u.remove("wwpp-block-cart-checkout-btn-hide"),o==null||o.remove())},k=(e=!1)=>{i.querySelectorAll(".woocommerce-info").forEach(o=>{o&&o.contains(i.querySelector(".wwpp-notice"))&&(p===null||e)&&o.remove()})},w=e=>{const c=e==null?void 0:e.filter(t=>{var r,n,s;return((s=(n=(r=t==null?void 0:t.extensions)==null?void 0:r.wwpp_block)==null?void 0:n.notices)==null?void 0:s.message)!=null}),o=c==null?void 0:c.map(t=>c.length>1?"<p>".concat(t.extensions.wwpp_block.notices.message,"</p>"):t.extensions.wwpp_block.notices.message);return(o==null?void 0:o.length)>0?o.join(""):null};let p=w(((g=m())==null?void 0:g.items)||[])||((N=(v=(S=(x=m())==null?void 0:x.extensions)==null?void 0:S.wwpp_block)==null?void 0:v.notices)==null?void 0:N.message)||null;const a=()=>{var e;k(!0),l.wp.data.dispatch("core/notices").removeNotice("wwpp-block-notice","wc/cart"),p=null,(e=i.querySelector("body"))==null||e.classList.remove("wwpp-block-notice"),y(!1)},_=e=>{var c;l.wp.data.dispatch("core/notices").createInfoNotice(e,{id:"wwpp-block-notice",context:"wc/cart"}),p=e,(c=i.querySelector("body"))==null||c.classList.add("wwpp-block-notice"),y()},B=window.lodash.debounce(()=>{var c,o,t,r;const e=m();if(((o=(c=e==null?void 0:e.extensions)==null?void 0:c.wwpp_block)==null?void 0:o.notices)!=null||w((e==null?void 0:e.items)||[])!=null){const n=e.extensions.wwpp_block.notices,s=w((e==null?void 0:e.items)||[]);k(),y(),s!=null&&p!==s&&(e==null?void 0:e.items.length)>0?(k(!0),_(w(e.items))):s==null&&(n!=null&&n.message)&&p!==n.message&&(e==null?void 0:e.items.length)>0?(k(!0),_(n.message)):(e==null?void 0:e.items.length)===0&&p!=null&&a()}else(((r=(t=e==null?void 0:e.extensions)==null?void 0:t.wwpp_block)==null?void 0:r.notices)==null&&p!=null&&w((e==null?void 0:e.items)||[])==null&&p!=null||(e==null?void 0:e.items.length)===0)&&a()},500),E=(e,c)=>{var o,t,r,n;if(((r=(t=(o=m())==null?void 0:o.extensions)==null?void 0:t.wwpp_block)==null?void 0:r.notices)==null&&w(((n=m())==null?void 0:n.items)||[])==null){c.disconnect();return}for(let s of e)s.type==="childList"&&s.addedNodes.forEach(u=>{var b;if(u instanceof HTMLElement&&(u.matches(".wp-block-woocommerce-checkout-actions-block")||u.matches(".wp-block-woocommerce-checkout-fields-block"))){const h=u.querySelector(".wc-block-checkout__actions_row .wc-block-components-checkout-place-order-button");if(c.disconnect(),h){h==null||h.remove();const d=i.createElement("h4");d.innerText=l.wwppObj.i18n.minOrderQtyNotice,d.classList.add("wwpp-notice"),d.setAttribute("style","margin-top: 1rem;");const f=u.querySelector(".wc-block-checkout__actions_row");(b=f==null?void 0:f.parentNode)==null||b.insertBefore(d,f.nextSibling)}}})};(q=l.wwppObj)!=null&&q.isCartBlock?l.wp.data.subscribe(B):(L=l.wwppObj)!=null&&L.isCheckoutBlock&&((O=l.wwppObj)==null?void 0:O.onlyAllowWholesalePurchases)==="yes"&&new MutationObserver(E).observe(i.body,{childList:!0,subtree:!0})})(window,document);export{A as __vite_legacy_guard};
