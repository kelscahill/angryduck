System.register(["../../../../common/vue.esm-bundler-legacy.WK047frM.js","../../../../common/index-legacy.CrPvcMca.js","../../../../common/Modal-legacy.B-iydlEu.js","../../../../common/rymeraStripeApi-legacy.DYpbTXjJ.js","../index-legacy.GLF-4Wj-.js","../../../../common/index-legacy.DdEtKe53.js","../../../../common/CheckOutlined-legacy.Bld3PYK2.js","../../../../common/index-legacy.D7J-n3o4.js","../../../../common/index-legacy.CeffEjmd.js","../../../../common/InfoCircleFilled-legacy.DbbXDboB.js","../../../../common/index-legacy.BURBWK5d.js","../../../../common/index-legacy.oEBkF2M2.js","../../../../common/index-legacy.uYXgLjLh.js","../../../../common/_plugin-vue_export-helper-legacy.DgAO6S8O.js","../../../../common/LoadingOutlined-legacy.CZa04zJ1.js","../../../../common/zoom-legacy.Ce4eGWkx.js","../../../../common/Compact-legacy.z-UC5psU.js","../../../../common/FormItemContext-legacy.DG8rbb71.js","../../../../common/CloseCircleFilled-legacy.BgOKszxx.js","../../../../common/index-legacy.CWazPwt-.js","../../../../common/pickAttrs-legacy.-fBE3o_4.js","../../../../common/styleChecker-legacy.BhfnSKn7.js","../../../../common/vnode-legacy.B2MH91DS.js","../../../../common/axios-legacy.CLDmrO42.js","../../../../common/preload-helper-legacy.TPiD7rVa.js","../../../../common/useFlexGapSupport-legacy.jrsYdGp6.js","../../../../common/ResizeObserver.es-legacy.0iJwNYH9.js","../../../../common/firstNotUndefined-legacy.C018uCjX.js"],(function(e,n){"use strict";var o,t,c,l,s,a,r,i,d,u,m,p,g,y,f,b,h,v,w,k,x,C,j,A,_,E,M,F,S,T,z,N;return{setters:[e=>{o=e.d,t=e.j,c=e.l,l=e.m,s=e.B,a=e.C,r=e.u,i=e.a,d=e.x,u=e.G,m=e.q,p=e.Y,g=e.a1,y=e.E,f=e.F},e=>{b=e.l,h=e.i,v=e.p},e=>{w=e.e,k=e.S,x=e.c},e=>{C=e.r},e=>{j=e.e},e=>{A=e.B},e=>{_=e.C},e=>{E=e.S},e=>{M=e.a},e=>{F=e.E},e=>{S=e.C},e=>{T=e.T},e=>{z=e.R},e=>{N=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var n=document.createElement("style");n.textContent=".ant-row[data-v-f1ba3f00]{margin-bottom:1rem}.stripe-connect-btn[data-v-f1ba3f00]{background:#3f4ddf;color:#fff;padding-left:2rem}.stripe-connect-btn[data-v-f1ba3f00]:before{background-repeat:no-repeat;content:\"\";height:20px;left:5%;position:absolute;width:49.58px;background-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 23.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 468 222.5' style='enable-background:new 0 0 468 222.5;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill-rule:evenodd;clip-rule:evenodd;fill:%23FFFFFF;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M6.796 7.639c0-1.03.845-1.427 2.245-1.427 2.008 0 4.544.608 6.552 1.691V1.695C13.4.823 11.234.479 9.041.479 3.678.48.111 3.28.111 7.956c0 7.292 10.04 6.13 10.04 9.273 0 1.215-1.057 1.611-2.536 1.611-2.193 0-4.993-.898-7.213-2.113v6.288a18.315 18.315 0 007.213 1.506c5.495 0 9.273-2.722 9.273-7.45-.027-7.873-10.092-6.473-10.092-9.432z'/%3E%3Cpath class='st0' d='M6.796 7.639c0-1.03.845-1.427 2.245-1.427 2.008 0 4.544.608 6.552 1.691V1.695C13.4.823 11.234.479 9.041.479 3.678.48.111 3.28.111 7.956c0 7.292 10.04 6.13 10.04 9.273 0 1.215-1.057 1.611-2.536 1.611-2.193 0-4.993-.898-7.213-2.113v6.288a18.315 18.315 0 007.213 1.506c5.495 0 9.273-2.722 9.273-7.45-.027-7.873-10.092-6.473-10.092-9.432z'/%3E%3C/g%3E%3C/svg%3E\");background-size:380px}.stripe-connect-btn.connecting[data-v-f1ba3f00]{background:#cfcfcf;color:#000}.description[data-v-f1ba3f00]{font-style:italic}[data-v-f1ba3f00] .wpay-stripe-mode.ant-switch-checked{background-color:#ffde92}[data-v-f1ba3f00] .wpay-stripe-mode.ant-switch-checked .ant-switch-inner-checked,[data-v-f1ba3f00] .wpay-stripe-mode.ant-switch-checked .ant-switch-inner-unchecked{color:#bb5504}\n/*$vite$:1*/",document.head.appendChild(n);const G={key:0},I={key:2,class:"form-table"},L={scope:"row"},P=["innerHTML"],B={scope:"row"},K={scope:"row"},O={scope:"row"},V={scope:"row"},R={scope:"row"},D={key:0},W={scope:"row",colspan:"2"};e("default",N(o({__name:"StripeConnect",setup(e){var n;const o=t(!1),N=t(!1),H=t("test"===b().apiMode),U=t(!1),{sprintf:$}=window.wp.i18n,q=()=>{o.value=!0,C().post("connect").then((({data:e})=>{N.value=!0;const{onboarding_url:n}=e;window.location.href=n})).catch((e=>{M.error({message:h().notice.error,description:e.error.message,class:"wpay-error-notification"})})).finally((()=>{o.value=!1}))},J=()=>{o.value=!0,C().get("account",{params:{account_number:b().accountNumber}}).then((({data:e})=>{M.success({message:h().notice.success,description:e.message,class:"wpay-success-notification"})})).catch((e=>{e.error.message.includes("account does not exist")||e.error.message.includes("may have been revoked")||e.error.message.includes("not found")?(M.error({message:h().notice.error,description:h().notice.stripeAccountNotLinked,class:"wpay-error-notification"}),setTimeout((()=>{window.location.reload()}),2e3)):M.error({message:h().notice.error,description:e.error.message,class:"wpay-error-notification"})})).finally((()=>{o.value=!1}))},X=()=>{x({title:h().notice.confirmAction,content:h().notice.stripeResetWarning,icon:i(F),onOk(){C().post("connect/reset").then((({data:e})=>{M.success({message:h().notice.success,description:e.message,class:"wpay-success-notification"}),setTimeout((()=>{window.location.reload()}),2e3)})).catch((e=>{M.error({message:h().notice.error,description:e.error.message,class:"wpay-error-notification"})}))}})},Y=e=>{const n=e?"test":"live";U.value=!0,C().post("connect/mode",{which:n}).catch((e=>{M.error({message:h().notice.error,description:e.error.message,class:"wpay-error-notification"})})).finally((()=>{U.value=!1}))};null!==(n=b())&&void 0!==n&&n.errorMessage&&w({title:h().notice.error,content:b().errorMessage});const Q=$(h().notice.disabledApiMode,'<code class="wpay-tw-text-orange-200">',"</code>");return(e,n)=>(c(),l(f,null,[s("h3",null,a(r(h)().heading.stripeApiSettings),1),i(r(z),null,{default:d((()=>[i(r(S),null,{default:d((()=>[N.value?(c(),l("p",G,[u(a(r(h)().notice.redirectingToOnboarding)+" ",1),i(j)])):r(b)().accountNumber?(c(),l("table",I,[s("tr",null,[s("th",L,a(r(h)().button.apiMode),1),s("td",null,[i(r(T),{placement:"right"},g({default:d((()=>[i(r(k),{checked:H.value,"onUpdate:checked":n[0]||(n[0]=e=>H.value=e),"checked-children":r(h)().button.testMode,"un-checked-children":r(h)().button.liveMode,class:"wpay-stripe-mode",disabled:r(b)().apiModeDisabled,onChange:Y,loading:U.value},null,8,["checked","checked-children","un-checked-children","disabled","loading"])])),_:2},[r(b)().apiModeDisabled?{name:"title",fn:d((()=>[s("span",{innerHTML:r(v)(r(Q))},null,8,P)])),key:"0"}:void 0]),1024)])]),s("tr",null,[s("th",B,a(r(h)().stripe.connected),1),s("td",null,[u(a(r(b)().accountNumber)+" ",1),i(r(_),{style:{color:"#00A32A"}})])]),s("tr",null,[s("th",K,a(r(h)().stripe.liveAccessToken),1),s("td",null,[u(a(r(b)().liveAccessToken)+" ",1),i(r(_),{style:{color:"#00A32A"}})])]),s("tr",null,[s("th",O,a(r(h)().stripe.livePublishableKey),1),s("td",null,[u(a(r(b)().livePublishableKey)+" ",1),i(r(_),{style:{color:"#00A32A"}})])]),s("tr",null,[s("th",V,a(r(h)().stripe.testAccessToken),1),s("td",null,[u(a(r(b)().testAccessToken)+" ",1),i(r(_),{style:{color:"#00A32A"}})])]),s("tr",null,[s("th",R,a(r(h)().stripe.testPublishableKey),1),s("td",null,[u(a(r(b)().testPublishableKey)+" ",1),i(r(_),{style:{color:"#00A32A"}})])]),r(b)().accountNumber?(c(),l("tr",D,[s("th",W,[i(r(E),null,{default:d((()=>[i(r(A),{size:"small",onClick:J},{default:d((()=>[u(a(o.value?r(h)().button.testingConnection:r(h)().button.testConnection),1)])),_:1}),i(r(A),{size:"small",class:"wpay-tw-text-red-500",onClick:X},{default:d((()=>[u(a(r(h)().button.resetConnection),1)])),_:1})])),_:1})])])):y("",!0)])):(c(),m(r(A),{key:1,class:p("stripe-connect-btn"+(o.value?" connecting":"")),disabled:o.value,onClick:q},{default:d((()=>[u(a(o.value?r(h)().button.connecting:r(h)().button.connectWithStripe),1)])),_:1},8,["class","disabled"]))])),_:1})])),_:1})],64))}}),[["__scopeId","data-v-f1ba3f00"]]))}}}));
