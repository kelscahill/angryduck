import{K as xe,P as w,_ as d,a as y,i as Z,e as U,Q as Le,g as Ee,m as We,r as je,D as Ve,x as _e,M as ae,u as Ge,H as Ke,C as _,R as Xe,S as Ue,N as Qe}from"./LoadingOutlined.BwWHly1W.js";import{d as O,j as X,g as q,a as s,a2 as $e,a4 as Se,n as ke,a3 as he,s as h,w as Y,o as ie,S as qe,F as Ye,z as Je,a7 as ce,u as Ze,J as en}from"./vue.esm-bundler.Eb_t0ZuK.js";import{a as nn,K as ue,P as on,i as tn,b as ln}from"./zoom._5t9uMJA.js";import{o as we,C as an}from"./CloseCircleFilled.DLp4Uax1.js";import{p as rn}from"./pickAttrs.CO1oKgar.js";import{c as Te,u as sn,a as dn,g as J,b as cn,d as un,e as fn}from"./InfoCircleFilled.CuIgY0ZM.js";import{B as te,c as Be}from"./index.DO4rv7yP.js";import{c as mn}from"./styleChecker.Cz-BSt7T.js";import{C as gn,g as pn,b as Cn}from"./index.BWmZUCTt.js";import{t as vn}from"./vnode.CxjOFO7d.js";const yn=new xe("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),bn=new xe("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),xn=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=e,o="".concat(t,"-fade"),l=n?"&":"";return[nn(o,yn,bn,e.motionDurationMid,n),{["\n        ".concat(l).concat(o,"-enter,\n        ").concat(l).concat(o,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(l).concat(o,"-leave")]:{animationTimingFunction:"linear"}}]};function re(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:w.shape({x:Number,y:Number}).loose,title:w.any,footer:w.any,transitionName:String,maskTransitionName:String,animation:w.any,maskAnimation:w.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:w.any,maskProps:w.any,wrapProps:w.any,getContainer:w.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:w.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function fe(e,n,t){let o=n;return!o&&t&&(o="".concat(e,"-").concat(t)),o}let me=-1;function $n(){return me+=1,me}function ge(e,n){let t=e["page".concat(n?"Y":"X","Offset")];const o="scroll".concat(n?"Top":"Left");if(typeof t!="number"){const l=e.document;t=l.documentElement[o],typeof t!="number"&&(t=l.body[o])}return t}function Sn(e){const n=e.getBoundingClientRect(),t={left:n.left,top:n.top},o=e.ownerDocument,l=o.defaultView||o.parentWindow;return t.left+=ge(l),t.top+=ge(l,!0),t}const hn={width:0,height:0,overflow:"hidden",outline:"none"},wn={outline:"none"},Tn=O({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:d(d({},re()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(e,n){let{expose:t,slots:o,attrs:l}=n;const c=X(),g=X(),C=X();t({focus:()=>{var a;(a=c.value)===null||a===void 0||a.focus({preventScroll:!0})},changeActive:a=>{const{activeElement:r}=document;a&&r===g.value?c.value.focus({preventScroll:!0}):!a&&r===c.value&&g.value.focus({preventScroll:!0})}});const b=X(),f=q(()=>{const{width:a,height:r}=e,p={};return a!==void 0&&(p.width=typeof a=="number"?"".concat(a,"px"):a),r!==void 0&&(p.height=typeof r=="number"?"".concat(r,"px"):r),b.value&&(p.transformOrigin=b.value),p}),u=()=>{ke(()=>{if(C.value){const a=Sn(C.value);b.value=e.mousePosition?"".concat(e.mousePosition.x-a.left,"px ").concat(e.mousePosition.y-a.top,"px"):""}})},i=a=>{e.onVisibleChanged(a)};return()=>{var a,r,p,x;const{prefixCls:S,footer:m=(a=o.footer)===null||a===void 0?void 0:a.call(o),title:$=(r=o.title)===null||r===void 0?void 0:r.call(o),ariaId:v,closable:T,closeIcon:B=(p=o.closeIcon)===null||p===void 0?void 0:p.call(o),onClose:F,bodyStyle:I,bodyProps:z,onMousedown:N,onMouseup:A,visible:L,modalRender:E=o.modalRender,destroyOnClose:G,motionName:H}=e;let W;m&&(W=s("div",{class:"".concat(S,"-footer")},[m]));let j;$&&(j=s("div",{class:"".concat(S,"-header")},[s("div",{class:"".concat(S,"-title"),id:v},[$])]));let R;T&&(R=s("button",{type:"button",onClick:F,"aria-label":"Close",class:"".concat(S,"-close")},[B||s("span",{class:"".concat(S,"-close-x")},null)]));const M=s("div",{class:"".concat(S,"-content")},[R,j,s("div",y({class:"".concat(S,"-body"),style:I},z),[(x=o.default)===null||x===void 0?void 0:x.call(o)]),W]),ee=Te(H);return s(Se,y(y({},ee),{},{onBeforeEnter:u,onAfterEnter:()=>i(!0),onAfterLeave:()=>i(!1)}),{default:()=>[L||!G?$e(s("div",y(y({},l),{},{ref:C,key:"dialog-element",role:"document",style:[f.value,l.style],class:[S,l.class],onMousedown:N,onMouseup:A}),[s("div",{tabindex:0,ref:c,style:wn},[E?E({originVNode:M}):M]),s("div",{tabindex:0,ref:g,style:hn},null)]),[[he,L]]):null]})}}}),Bn=O({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(e,n){return()=>{const{prefixCls:t,visible:o,maskProps:l,motionName:c}=e,g=Te(c);return s(Se,g,{default:()=>[$e(s("div",y({class:"".concat(t,"-mask")},l),null),[[he,o]])]})}}}),pe=O({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:Z(d(d({},re()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(e,n){let{attrs:t,slots:o}=n;const l=h(),c=h(),g=h(),C=h(e.visible),b=h("vcDialogTitle".concat($n())),f=m=>{var $,v;if(m)Le(c.value,document.activeElement)||(l.value=document.activeElement,($=g.value)===null||$===void 0||$.focus());else{const T=C.value;if(C.value=!1,e.mask&&l.value&&e.focusTriggerAfterClose){try{l.value.focus({preventScroll:!0})}catch(B){}l.value=null}T&&((v=e.afterClose)===null||v===void 0||v.call(e))}},u=m=>{var $;($=e.onClose)===null||$===void 0||$.call(e,m)},i=h(!1),a=h(),r=()=>{clearTimeout(a.value),i.value=!0},p=()=>{a.value=setTimeout(()=>{i.value=!1})},x=m=>{if(!e.maskClosable)return null;i.value?i.value=!1:c.value===m.target&&u(m)},S=m=>{if(e.keyboard&&m.keyCode===ue.ESC){m.stopPropagation(),u(m);return}e.visible&&m.keyCode===ue.TAB&&g.value.changeActive(!m.shiftKey)};return Y(()=>e.visible,()=>{e.visible&&(C.value=!0)},{flush:"post"}),ie(()=>{var m;clearTimeout(a.value),(m=e.scrollLocker)===null||m===void 0||m.unLock()}),qe(()=>{var m,$;(m=e.scrollLocker)===null||m===void 0||m.unLock(),C.value&&(($=e.scrollLocker)===null||$===void 0||$.lock())}),()=>{const{prefixCls:m,mask:$,visible:v,maskTransitionName:T,maskAnimation:B,zIndex:F,wrapClassName:I,rootClassName:z,wrapStyle:N,closable:A,maskProps:L,maskStyle:E,transitionName:G,animation:H,wrapProps:W,title:j=o.title}=e,{style:R,class:M}=t;return s("div",y({class:["".concat(m,"-root"),z]},rn(e,{data:!0})),[s(Bn,{prefixCls:m,visible:$&&v,motionName:fe(m,T,B),style:d({zIndex:F},E),maskProps:L},null),s("div",y({tabIndex:-1,onKeydown:S,class:U("".concat(m,"-wrap"),I),ref:c,onClick:x,role:"dialog","aria-labelledby":j?b.value:null,style:d(d({zIndex:F},N),{display:C.value?null:"none"})},W),[s(Tn,y(y({},we(e,["scrollLocker"])),{},{style:R,class:M,onMousedown:r,onMouseup:p,ref:g,closable:A,ariaId:b.value,prefixCls:m,visible:v,onClose:u,onVisibleChanged:f,motionName:fe(m,G,H)}),o)])])}}}),Pn=re(),Fn=O({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:Z(Pn,{visible:!1}),setup(e,n){let{attrs:t,slots:o}=n;const l=X(e.visible);return sn({},{inTriggerContext:!1}),Y(()=>e.visible,()=>{e.visible&&(l.value=!0)},{flush:"post"}),()=>{const{visible:c,getContainer:g,forceRender:C,destroyOnClose:b=!1,afterClose:f}=e;let u=d(d(d({},e),t),{ref:"_component",key:"dialog"});return g===!1?s(pe,y(y({},u),{},{getOpenCount:()=>2}),o):!C&&b&&!l.value?null:s(on,{autoLock:!0,visible:c,forceRender:C,getContainer:g},{default:i=>(u=d(d(d({},u),i),{afterClose:()=>{f==null||f(),l.value=!1}}),s(pe,u,o))})}}});function Ce(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const In=e=>{const{componentCls:n}=e;return[{["".concat(n,"-root")]:{["".concat(n).concat(e.antCls,"-zoom-enter, ").concat(n).concat(e.antCls,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},["".concat(n).concat(e.antCls,"-zoom-leave ").concat(n,"-content")]:{pointerEvents:"none"},["".concat(n,"-mask")]:d(d({},Ce("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,["".concat(n,"-hidden")]:{display:"none"}}),["".concat(n,"-wrap")]:d(d({},Ce("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(n,"-root")]:xn(e)}]},Mn=e=>{const{componentCls:n}=e;return[{["".concat(n,"-root")]:{["".concat(n,"-wrap")]:{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},["".concat(n,"-wrap-rtl")]:{direction:"rtl"},["".concat(n,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[n]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(e.screenSMMax,")")]:{[n]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(e.marginXS," auto")},["".concat(n,"-centered")]:{[n]:{flex:1}}}}},{[n]:d(d({},je(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(e.margin*2,"px)"),margin:"0 auto",paddingBottom:e.paddingLG,["".concat(n,"-title")]:{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"},["".concat(n,"-content")]:{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadowSecondary,pointerEvents:"auto",padding:"".concat(e.paddingMD,"px ").concat(e.paddingContentHorizontalLG,"px")},["".concat(n,"-close")]:d({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(e.modalCloseBtnSize,"px"),textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},Ve(e)),["".concat(n,"-header")]:{color:e.colorText,background:e.modalHeaderBg,borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0"),marginBottom:e.marginXS},["".concat(n,"-body")]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},["".concat(n,"-footer")]:{textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn:not(").concat(e.antCls,"-dropdown-trigger)")]:{marginBottom:0,marginInlineStart:e.marginXS}},["".concat(n,"-open")]:{overflow:"hidden"}})},{["".concat(n,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(n,"-content,\n          ").concat(n,"-body,\n          ").concat(n,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(n,"-confirm-body")]:{marginBottom:"auto"}}}]},On=e=>{const{componentCls:n}=e,t="".concat(n,"-confirm");return{[t]:{"&-rtl":{direction:"rtl"},["".concat(e.antCls,"-modal-header")]:{display:"none"},["".concat(t,"-body-wrapper")]:d({},_e()),["".concat(t,"-body")]:{display:"flex",flexWrap:"wrap",alignItems:"center",["".concat(t,"-title")]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,["+ ".concat(t,"-content")]:{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:"calc(100% - ".concat(e.modalConfirmIconSize+e.marginSM,"px)")}},["".concat(t,"-content")]:{color:e.colorText,fontSize:e.fontSize},["> ".concat(e.iconCls)]:{flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize,["+ ".concat(t,"-title")]:{flex:1},["+ ".concat(t,"-title + ").concat(t,"-content")]:{marginInlineStart:e.modalConfirmIconSize+e.marginSM}}},["".concat(t,"-btns")]:{textAlign:"end",marginTop:e.marginSM,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginBottom:0,marginInlineStart:e.marginXS}}},["".concat(t,"-error ").concat(t,"-body > ").concat(e.iconCls)]:{color:e.colorError},["".concat(t,"-warning ").concat(t,"-body > ").concat(e.iconCls,",\n        ").concat(t,"-confirm ").concat(t,"-body > ").concat(e.iconCls)]:{color:e.colorWarning},["".concat(t,"-info ").concat(t,"-body > ").concat(e.iconCls)]:{color:e.colorInfo},["".concat(t,"-success ").concat(t,"-body > ").concat(e.iconCls)]:{color:e.colorSuccess},["".concat(n,"-zoom-leave ").concat(n,"-btns")]:{pointerEvents:"none"}}},zn=e=>{const{componentCls:n}=e;return{["".concat(n,"-root")]:{["".concat(n,"-wrap-rtl")]:{direction:"rtl",["".concat(n,"-confirm-body")]:{direction:"rtl"}}}}},Nn=e=>{const{componentCls:n,antCls:t}=e,o="".concat(n,"-confirm");return{[n]:{["".concat(n,"-content")]:{padding:0},["".concat(n,"-header")]:{padding:e.modalHeaderPadding,borderBottom:"".concat(e.modalHeaderBorderWidth,"px ").concat(e.modalHeaderBorderStyle," ").concat(e.modalHeaderBorderColorSplit),marginBottom:0},["".concat(n,"-body")]:{padding:e.modalBodyPadding},["".concat(n,"-footer")]:{padding:"".concat(e.modalFooterPaddingVertical,"px ").concat(e.modalFooterPaddingHorizontal,"px"),borderTop:"".concat(e.modalFooterBorderWidth,"px ").concat(e.modalFooterBorderStyle," ").concat(e.modalFooterBorderColorSplit),borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px"),marginTop:0}},[o]:{["".concat(t,"-modal-body")]:{padding:"".concat(e.padding*2,"px ").concat(e.padding*2,"px ").concat(e.paddingLG,"px")},["".concat(o,"-body")]:{["> ".concat(e.iconCls)]:{marginInlineEnd:e.margin,["+ ".concat(o,"-title + ").concat(o,"-content")]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},["".concat(o,"-btns")]:{marginTop:e.marginLG}}}},Hn=Ee("Modal",e=>{const n=e.padding,t=e.fontSizeHeading5,o=e.lineHeightHeading5,l=We(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:"".concat(n,"px ").concat(e.paddingLG,"px"),modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:o,modalHeaderTitleFontSize:t,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:o*t+n*2,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:e.controlHeightLG*.55});return[Mn(l),On(l),zn(l),In(l),e.wireframe&&Nn(l),tn(l,"zoom")]});var An=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(t[o[l]]=e[o[l]]);return t};let le;const Rn=e=>{le={x:e.pageX,y:e.pageY},setTimeout(()=>le=null,100)};mn()&&ln(document.documentElement,"click",Rn,!0);const Dn=()=>({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:w.any,closable:{type:Boolean,default:void 0},closeIcon:w.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:w.any,okText:w.any,okType:String,cancelText:w.any,icon:w.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:_(),cancelButtonProps:_(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:_(),maskStyle:_(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:_()}),P=O({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:Z(Dn(),{width:520,confirmLoading:!1,okType:"primary"}),setup(e,n){let{emit:t,slots:o,attrs:l}=n;const[c]=ae("Modal"),{prefixCls:g,rootPrefixCls:C,direction:b,getPopupContainer:f}=Ge("modal",e),[u,i]=Hn(g);Ke(e.visible===void 0);const a=x=>{t("update:visible",!1),t("update:open",!1),t("cancel",x),t("change",!1)},r=x=>{t("ok",x)},p=()=>{var x,S;const{okText:m=(x=o.okText)===null||x===void 0?void 0:x.call(o),okType:$,cancelText:v=(S=o.cancelText)===null||S===void 0?void 0:S.call(o),confirmLoading:T}=e;return s(Ye,null,[s(te,y({onClick:a},e.cancelButtonProps),{default:()=>[v||c.value.cancelText]}),s(te,y(y({},Be($)),{},{loading:T,onClick:r},e.okButtonProps),{default:()=>[m||c.value.okText]})])};return()=>{var x,S;const{prefixCls:m,visible:$,open:v,wrapClassName:T,centered:B,getContainer:F,closeIcon:I=(x=o.closeIcon)===null||x===void 0?void 0:x.call(o),focusTriggerAfterClose:z=!0}=e,N=An(e,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),A=U(T,{["".concat(g.value,"-centered")]:!!B,["".concat(g.value,"-wrap-rtl")]:b.value==="rtl"});return u(s(Fn,y(y(y({},N),l),{},{rootClassName:i.value,class:U(i.value,l.class),getContainer:F||(f==null?void 0:f.value),prefixCls:g.value,wrapClassName:A,visible:v!=null?v:$,onClose:a,focusTriggerAfterClose:z,transitionName:J(C.value,"zoom",e.transitionName),maskTransitionName:J(C.value,"fade",e.maskTransitionName),mousePosition:(S=N.mousePosition)!==null&&S!==void 0?S:le}),d(d({},o),{footer:o.footer||p,closeIcon:()=>s("span",{class:"".concat(g.value,"-close-x")},[I||s(dn,{class:"".concat(g.value,"-close-icon")},null)])})))}}}),Ln=()=>{const e=h(!1);return ie(()=>{e.value=!0}),e},En={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:_(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function ve(e){return!!(e&&e.then)}const ye=O({compatConfig:{MODE:3},name:"ActionButton",props:En,setup(e,n){let{slots:t}=n;const o=h(!1),l=h(),c=h(!1);let g;const C=Ln();Je(()=>{e.autofocus&&(g=setTimeout(()=>{var i,a;return(a=(i=Xe(l.value))===null||i===void 0?void 0:i.focus)===null||a===void 0?void 0:a.call(i)}))}),ie(()=>{clearTimeout(g)});const b=function(){for(var i,a=arguments.length,r=new Array(a),p=0;p<a;p++)r[p]=arguments[p];(i=e.close)===null||i===void 0||i.call(e,...r)},f=i=>{ve(i)&&(c.value=!0,i.then(function(){C.value||(c.value=!1),b(...arguments),o.value=!1},a=>(C.value||(c.value=!1),o.value=!1,Promise.reject(a))))},u=i=>{const{actionFn:a}=e;if(o.value)return;if(o.value=!0,!a){b();return}let r;if(e.emitEvent){if(r=a(i),e.quitOnNullishReturnValue&&!ve(r)){o.value=!1,b(i);return}}else if(a.length)r=a(e.close),o.value=!1;else if(r=a(),!r){b();return}f(r)};return()=>{const{type:i,prefixCls:a,buttonProps:r}=e;return s(te,y(y(y({},Be(i)),{},{onClick:u,loading:c.value,prefixCls:a},r),{},{ref:l}),t)}}});function V(e){return typeof e=="function"?e():e}const Pe=O({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,n){let{attrs:t}=n;const[o]=ae("Modal");return()=>{const{icon:l,onCancel:c,onOk:g,close:C,okText:b,closable:f=!1,zIndex:u,afterClose:i,keyboard:a,centered:r,getContainer:p,maskStyle:x,okButtonProps:S,cancelButtonProps:m,okCancel:$,width:v=416,mask:T=!0,maskClosable:B=!1,type:F,open:I,title:z,content:N,direction:A,closeIcon:L,modalRender:E,focusTriggerAfterClose:G,rootPrefixCls:H,bodyStyle:W,wrapClassName:j,footer:R}=e;let M=l;if(!l&&l!==null)switch(F){case"info":M=s(fn,null,null);break;case"success":M=s(un,null,null);break;case"error":M=s(an,null,null);break;default:M=s(cn,null,null)}const ee=e.okType||"primary",ne=e.prefixCls||"ant-modal",K="".concat(ne,"-confirm"),He=t.style||{},se=$!=null?$:F==="confirm",de=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",k="".concat(ne,"-confirm"),Ae=U(k,"".concat(k,"-").concat(e.type),{["".concat(k,"-rtl")]:A==="rtl"},t.class),oe=o.value,Re=se&&s(ye,{actionFn:c,close:C,autofocus:de==="cancel",buttonProps:m,prefixCls:"".concat(H,"-btn")},{default:()=>[V(e.cancelText)||oe.cancelText]});return s(P,{prefixCls:ne,class:Ae,wrapClassName:U({["".concat(k,"-centered")]:!!r},j),onCancel:De=>C==null?void 0:C({triggerCancel:!0},De),open:I,title:"",footer:"",transitionName:J(H,"zoom",e.transitionName),maskTransitionName:J(H,"fade",e.maskTransitionName),mask:T,maskClosable:B,maskStyle:x,style:He,bodyStyle:W,width:v,zIndex:u,afterClose:i,keyboard:a,centered:r,getContainer:p,closable:f,closeIcon:L,modalRender:E,focusTriggerAfterClose:G},{default:()=>[s("div",{class:"".concat(K,"-body-wrapper")},[s("div",{class:"".concat(K,"-body")},[V(M),z===void 0?null:s("span",{class:"".concat(K,"-title")},[V(z)]),s("div",{class:"".concat(K,"-content")},[V(N)])]),R!==void 0?V(R):s("div",{class:"".concat(K,"-btns")},[Re,s(ye,{type:ee,actionFn:g,close:C,autofocus:de==="ok",buttonProps:S,prefixCls:"".concat(H,"-btn")},{default:()=>[V(b)||(se?oe.okText:oe.justOkText)]})])])]})}}}),D=[],Q=e=>{const n=document.createDocumentFragment();let t=d(d({},we(e,["parentContext","appContext"])),{close:c,open:!0}),o=null;function l(){o&&(ce(null,n),o=null);for(var f=arguments.length,u=new Array(f),i=0;i<f;i++)u[i]=arguments[i];const a=u.some(r=>r&&r.triggerCancel);e.onCancel&&a&&e.onCancel(()=>{},...u.slice(1));for(let r=0;r<D.length;r++)if(D[r]===c){D.splice(r,1);break}}function c(){for(var f=arguments.length,u=new Array(f),i=0;i<f;i++)u[i]=arguments[i];t=d(d({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),l.apply(this,u)}}),t.visible&&delete t.visible,g(t)}function g(f){typeof f=="function"?t=f(t):t=d(d({},t),f),o&&vn(o,t,n)}const C=f=>{const u=pn,i=u.prefixCls,a=f.prefixCls||"".concat(i,"-modal"),r=u.iconPrefixCls,p=Cn();return s(gn,y(y({},u),{},{prefixCls:i}),{default:()=>[s(Pe,y(y({},f),{},{rootPrefixCls:i,prefixCls:a,iconPrefixCls:r,locale:p,cancelText:f.cancelText||p.cancelText}),null)]})};function b(f){const u=s(C,d({},f));return u.appContext=e.parentContext||e.appContext||u.appContext,ce(u,n),u}return o=b(t),D.push(c),{destroy:c,update:g}};function Fe(e){return d(d({},e),{type:"warning"})}function Ie(e){return d(d({},e),{type:"info"})}function Me(e){return d(d({},e),{type:"success"})}function Oe(e){return d(d({},e),{type:"error"})}function ze(e){return d(d({},e),{type:"confirm"})}const Wn=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),jn=O({name:"HookModal",inheritAttrs:!1,props:Z(Wn(),{config:{width:520,okType:"primary"}}),setup(e,n){let{expose:t}=n;var o;const l=q(()=>e.open),c=q(()=>e.config),{direction:g,getPrefixCls:C}=Ue(),b=C("modal"),f=C(),u=()=>{var p,x;e==null||e.afterClose(),(x=(p=c.value).afterClose)===null||x===void 0||x.call(p)},i=function(){e.destroyAction(...arguments)};t({destroy:i});const a=(o=c.value.okCancel)!==null&&o!==void 0?o:c.value.type==="confirm",[r]=ae("Modal",Qe.Modal);return()=>s(Pe,y(y({prefixCls:b,rootPrefixCls:f},c.value),{},{close:i,open:l.value,afterClose:u,okText:c.value.okText||(a?r==null?void 0:r.value.okText:r==null?void 0:r.value.justOkText),direction:c.value.direction||g.value,cancelText:c.value.cancelText||(r==null?void 0:r.value.cancelText)}),null)}});let be=0;const Vn=O({name:"ElementsHolder",inheritAttrs:!1,setup(e,n){let{expose:t}=n;const o=h([]);return t({addModal:c=>(o.value.push(c),o.value=o.value.slice(),()=>{o.value=o.value.filter(g=>g!==c)})}),()=>o.value.map(c=>c())}});function _n(){const e=h(null),n=h([]);Y(n,()=>{n.value.length&&([...n.value].forEach(g=>{g()}),n.value=[])},{immediate:!0});const t=c=>function(C){var b;be+=1;const f=h(!0),u=h(null),i=h(Ze(C)),a=h({});Y(()=>C,v=>{S(d(d({},en(v)?v.value:v),a.value))});const r=function(){f.value=!1;for(var v=arguments.length,T=new Array(v),B=0;B<v;B++)T[B]=arguments[B];const F=T.some(I=>I&&I.triggerCancel);i.value.onCancel&&F&&i.value.onCancel(()=>{},...T.slice(1))};let p;const x=()=>s(jn,{key:"modal-".concat(be),config:c(i.value),ref:u,open:f.value,destroyAction:r,afterClose:()=>{p==null||p()}},null);p=(b=e.value)===null||b===void 0?void 0:b.addModal(x),p&&D.push(p);const S=v=>{i.value=d(d({},i.value),v)};return{destroy:()=>{u.value?r():n.value=[...n.value,r]},update:v=>{a.value=v,u.value?S(v):n.value=[...n.value,()=>S(v)]}}},o=q(()=>({info:t(Ie),success:t(Me),error:t(Oe),warning:t(Fe),confirm:t(ze)})),l=Symbol("modalHolderKey");return[o.value,()=>s(Vn,{key:l,ref:e},null)]}function Ne(e){return Q(Fe(e))}P.useModal=_n;P.info=function(n){return Q(Ie(n))};P.success=function(n){return Q(Me(n))};P.error=function(n){return Q(Oe(n))};P.warning=Ne;P.warn=Ne;P.confirm=function(n){return Q(ze(n))};P.destroyAll=function(){for(;D.length;){const n=D.pop();n&&n()}};P.install=function(e){return e.component(P.name,P),e};export{ye as A,P as M};
