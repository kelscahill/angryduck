import{a as l}from"./axios.Ce6w_M6R.js";var r;const o=(r=window.wpayObj)!=null&&r.maxRequests?Number(window.wpayObj.maxRequests):8,m=Math.floor(1e3/o);let e=0;const x=(a={},n={})=>{const i=n.maxRequests||o,c=n.intervalInMs||m,t=l.create({timeout:3e4,responseType:"json",headers:{"Content-Type":"application/json;charset=UTF-8","X-WP-Nonce":window.wpayObj.wpNonce,Nonce:window.wpayObj.wcNonce},baseURL:window.wpayObj.licenseApiUrl,...a});return t.interceptors.request.use(s=>new Promise(p=>{let w=setInterval(()=>{e<i&&(e++,clearInterval(w),p(s))},c)})),t.interceptors.response.use(s=>(e=Math.max(0,e-1),Promise.resolve(s)),s=>(e=Math.max(0,e-1),Promise.reject({error:s.response.data}))),t};export{x as l};
