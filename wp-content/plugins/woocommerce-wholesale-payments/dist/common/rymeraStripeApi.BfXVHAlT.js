import{a as m}from"./axios.Ce6w_M6R.js";var n;const a=(n=window.wpayObj)!=null&&n.maxRequests?Number(window.wpayObj.maxRequests):8,u=Math.floor(1e3/a);let e=0;const x=(o={},s={})=>{const i=s.maxRequests||a,p=s.intervalInMs||u,t=m.create({timeout:3e4,responseType:"json",headers:{"Content-Type":"application/json;charset=UTF-8","X-WP-Nonce":window.wpayObj.wpNonce,Nonce:window.wpayObj.wcNonce},baseURL:window.wpayObj.rymeraStripeApiUrl,...o});return t.interceptors.request.use(r=>new Promise(c=>{let w=setInterval(()=>{e<i&&(e++,clearInterval(w),c(r))},p)})),t.interceptors.response.use(r=>(e=Math.max(0,e-1),Promise.resolve(r)),r=>(e=Math.max(0,e-1),Promise.reject({error:r.response.data}))),t};export{x as r};
