import{d as j,G as A,c as s,o as n,f as m,k as p,u as r,N as k,q as H,K as E,L as V,g as b,O as v,J as U}from"../../../../../common/LoadingOutlined.BFkAxzyV.js";import{u as q,w as z,p as G,D as I,g as J,b as K}from"../../../../../common/index.Ith4SzXf.js";import{t as L}from"../../../../../common/table-elements.Bs0D33WK.js";import{C as P}from"../../../../../common/index.RfEH1ihW.js";import{C as R,a as W}from"../../../../../common/CaretUpOutlined.BBnMPvd9.js";import{_ as M}from"../../../../../common/_plugin-vue_export-helper.DlAUqK2U.js";import"../../../../../common/_commonjsHelpers.BosuxZz1.js";import"../../../../../common/ExclamationCircleFilled.CrW3q_TN.js";import"../../../../../common/DownloadOutlined.D7JVmMHp.js";import"../../../../../common/ShoppingCartOutlined.B2D8qpCU.js";import"../../../../../common/Checkbox.CYa6__iO.js";import"../../../../../common/initDefaultProps.0LfrQis0.js";import"../../../../../common/FormItemContext.CuFDkfIX.js";import"../../../../../common/createContext.DiHI9yzd.js";import"../../../../../common/index.BYshCuJZ.js";const Q={key:2,class:"wwof-tw-inline-flex wwof-tw-flex-col wwof-tw-ml-1"},X=j({__name:"TableColumnHeader",props:{field:{}},setup(t){const y=q(),{products:d,productsSelected:o,productsSortBy:w,productsSort:i}=A(y),x=s(()=>{var a,c,u;const l=L.find(f=>f.elementClass===t.field.elementClass);let e=l.columnName||l.name;return((u=(c=(a=t.field)==null?void 0:a.settings)==null?void 0:c.options)==null?void 0:u.headingText)!=null&&(e=t.field.settings.options.headingText||e),e}),g=s(()=>{var e,a,c,u,f,h;return I().includes(t.field.elementClass)?((c=(a=(e=t.field)==null?void 0:e.settings)==null?void 0:a.options)==null?void 0:c.sortable)==null?!0:((h=(f=(u=t.field)==null?void 0:u.settings)==null?void 0:f.options)==null?void 0:h.sortable)==="yes"||!0:!1}),B=s(()=>["heading","wwof-tw-flex-grow",g.value?"sortable":!1].filter(Boolean).join(" ")),F=()=>{var l,e,a;g.value&&(i.value=i.value==="asc"||i.value===""?"desc":"asc",w.value=t.field.elementClass||((a=(e=(l=J().settings)==null?void 0:l.settings)==null?void 0:e.productSortBy)!=null?a:K().wcSettings.orderBy))},S=s(()=>["wwof-tw-h-2",w.value===t.field.elementClass&&i.value==="asc"?"wwof-tw-text-sky-600":"wwof-tw-text-gray-300"].filter(Boolean).join(" ")),D=s(()=>["wwof-tw-h-2",w.value===t.field.elementClass&&i.value==="desc"?"wwof-tw-text-sky-600":"wwof-tw-text-gray-300"].filter(Boolean).join(" ")),T=l=>{const e=l.target.checked;o.value=e?d.value.data:[]},N=s(()=>o.value.length===0||o.value.length===d.value.data.length?!1:o.value.length!==d.value.data.length),O=s(()=>o.value.length===0?!1:o.value.length===d.value.data.length),C=z("wwof_table_column_header_field",null,t.field);return(l,e)=>(n(),m("h4",{class:v(B.value),onClick:F},[l.field.elementClass==="add-to-cart-checkbox"?(n(),p(r(P),{key:0,checked:O.value,indeterminate:N.value,onChange:T},null,8,["checked","indeterminate"])):(n(),m(k,{key:1},[r(C)?(n(),p(H({template:r(G)(r(C))}),{key:0})):(n(),m(k,{key:1},[E(V(x.value),1)],64))],64)),g.value?(n(),m("span",Q,[b(r(R),{class:v(S.value)},null,8,["class"]),b(r(W),{class:v(D.value)},null,8,["class"])])):U("",!0)],2))}}),de=M(X,[["__scopeId","data-v-9aaa035a"]]);export{de as default};
