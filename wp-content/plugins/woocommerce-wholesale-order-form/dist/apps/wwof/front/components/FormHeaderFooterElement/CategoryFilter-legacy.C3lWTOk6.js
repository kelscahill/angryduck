System.register(["../../../../../common/LoadingOutlined-legacy.CPhLaklC.js","../../../../../common/index-legacy.BXaB4RSa.js","../../../../../common/index-legacy.DJlMOCyj.js","../../../../../common/KeyCode-legacy.CYgXvjDm.js","../../../../../common/index-legacy.CoALAfr8.js","../../../../../common/omit-legacy.BQBjzFAf.js","../../../../../common/initDefaultProps-legacy.Dg02spAx.js","../../../../../common/useMergedState-legacy.DcZ24Ay_.js","../../../../../common/devWarning-legacy.BL7D_mCx.js","../../../../../common/warning-legacy.BV4CRm2j.js","../../../../../common/FormItemContext-legacy.Bn2BifA3.js","../../../../../common/ExclamationCircleFilled-legacy.pk-fzLqd.js","../../../../../common/statusUtils-legacy.B_kTqdc-.js","../../../../../common/index-legacy.DpNpN-mM.js","../../../../../common/Compact-legacy.DDJsKFLh.js","../../../../../common/_plugin-vue_export-helper-legacy.DgAO6S8O.js","../../../../../common/_commonjsHelpers-legacy.DUdKTVN3.js","../../../../../common/motion-legacy.Bqa37s8Y.js","../../../../../common/raf-legacy.BuqC4Cal.js","../../../../../common/vnode-legacy.D_pD5Ypg.js","../../../../../common/isVisible-legacy.DY5sQV1e.js","../../../../../common/ResizeObserver.es-legacy.0iJwNYH9.js","../../../../../common/_getTag-legacy.C5XgQwbj.js","../../../../../common/PortalWrapper-legacy.DAyoZhpc.js","../../../../../common/BaseInput-legacy.Cv2S-5JS.js","../../../../../common/pickAttrs-legacy.D7W1GfS4.js","../../../../../common/slide-legacy.B70IHwQ7.js","../../../../../common/isMobile-legacy.u4Sbg_0V.js","../../../../../common/useState-legacy.Cz9hM3Y9.js","../../../../../common/DownOutlined-legacy.aSxLjf1f.js","../../../../../common/SearchOutlined-legacy.BXpp2u4b.js","../../../../../common/move-legacy.DLrpAbGJ.js","../../../../../common/compact-item-legacy.DIFhuQPK.js","../../../../../common/eagerComputed-legacy.CNh9TEFW.js","../../../../../common/collapseMotion-legacy.drnbwylt.js","../../../../../common/createContext-legacy.BN14iAW9.js"],(function(e,l){"use strict";var t,a,o,n,r,i,u,c,d,s,v,p,h,m,g,f,y,w,b,C,x,S,I,k,E,N,T,j,D,L,O,P,V,A,K,_,F,$,H,M,B,W,R,U,z,G,Y,X,q,J,Q,Z,ee,le,te,ae,oe,ne,re,ie,ue,ce,de,se,ve,pe,he,me,ge,fe,ye,we,be,Ce,xe,Se,Ie,ke,Ee,Ne,Te,je,De;return{setters:[e=>{t=e.i,a=e.p,o=e.d,n=e.b,r=e.c,i=e.w,u=e.n,c=e.s,d=e.ax,s=e.g,v=e.E,p=e.z,h=e.ar,m=e.ao,g=e.a0,f=e.a9,y=e.bk,w=e.P,b=e.x,C=e.y,x=e.A,S=e.bf,I=e.D,k=e.Y,E=e.U,N=e.R,T=e.Q,j=e.a4,D=e.T,L=e.G,O=e.B,P=e.o,V=e.f,A=e.u,K=e.k,_=e.l,F=e.K,$=e.L,H=e.N,M=e.a8,B=e.aa},e=>{W=e.T,R=e.V,U=e.u,z=e.j,G=e.c,Y=e.g,X=e.b,q=e.w,J=e.Y,Q=e.W,Z=e.k},e=>{ee=e.u,le=e.a,te=e.b,ae=e.c,oe=e.d,ne=e.t,re=e.B,ie=e.e,ue=e.f,ce=e.g,de=e.S},e=>{se=e.K},e=>{ve=e.T,pe=e.c,he=e.a,me=e.u,ge=e.i,fe=e.r},e=>{ye=e.o},e=>{we=e.i},e=>{be=e.u},e=>{Ce=e.d},e=>{xe=e.w},e=>{Se=e.a,Ie=e.F},e=>{ke=e.e},e=>{Ee=e.g,Ne=e.a},e=>{Te=e.g},e=>{je=e.a},e=>{De=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");function Le(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function Oe(e){return null==e}l.textContent="[data-v-8ee5c472] .ant-select{min-width:10rem}[data-v-8ee5c472] .ant-select input[type=search]{border:none;box-shadow:none;outline:none}.wwof-category-filter[data-v-8ee5c472]{width:15rem}\n/*$vite$:1*/",document.head.appendChild(l);const Pe=Symbol("TreeSelectContextPropsKey"),Ve={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ae=o({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,l){let{slots:a,expose:o}=l;const h=ee(),m=le(),g=t(Pe,{}),f=n(),y=te((()=>g.treeData),[()=>h.open,()=>g.treeData],(e=>e[0])),w=r((()=>{const{checkable:e,halfCheckedKeys:l,checkedKeys:t}=m;return e?{checked:t,halfChecked:l}:null}));i((()=>h.open),(()=>{u((()=>{var e;h.open&&!h.multiple&&m.checkedKeys.length&&(null===(e=f.value)||void 0===e||e.scrollTo({key:m.checkedKeys[0]}))}))}),{immediate:!0,flush:"post"});const b=r((()=>String(h.searchValue).toLowerCase())),C=e=>!!b.value&&String(e[m.treeNodeFilterProp]).toLowerCase().includes(b.value),x=c(m.treeDefaultExpandedKeys),S=c(null);i((()=>h.searchValue),(()=>{h.searchValue&&(S.value=function(e,l){const t=[];return function e(a){a.forEach((a=>{t.push(a[l.value]);const o=a[l.children];o&&e(o)}))}(e),t}(d(g.treeData),d(g.fieldNames)))}),{immediate:!0});const I=r((()=>m.treeExpandedKeys?m.treeExpandedKeys.slice():h.searchValue?S.value:x.value)),k=e=>{var l;x.value=e,S.value=e,null===(l=m.onTreeExpand)||void 0===l||l.call(m,e)},E=e=>{e.preventDefault()},N=(e,l)=>{let{node:t}=l;var a,o;const{checkable:n,checkedKeys:r}=m;n&&Le(t)||(null===(a=g.onSelect)||void 0===a||a.call(g,t.key,{selected:!r.includes(t.key)}),h.multiple||null===(o=h.toggleOpen)||void 0===o||o.call(h,!1))},T=n(null),j=r((()=>m.keyEntities[T.value])),D=e=>{T.value=e};return o({scrollTo:function(){for(var e,l,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return null===(l=null===(e=f.value)||void 0===e?void 0:e.scrollTo)||void 0===l?void 0:l.call(e,...a)},onKeydown:e=>{var l;const{which:t}=e;switch(t){case se.UP:case se.DOWN:case se.LEFT:case se.RIGHT:null===(l=f.value)||void 0===l||l.onKeydown(e);break;case se.ENTER:if(j.value){const{selectable:e,value:l}=j.value.node||{};!1!==e&&N(0,{node:{key:T.value},selected:!m.checkedKeys.includes(l)})}break;case se.ESC:h.toggleOpen(!1)}},onKeyup:()=>{}}),()=>{var e;const{prefixCls:l,multiple:t,searchValue:o,open:n,notFoundContent:r=(null===(e=a.notFoundContent)||void 0===e?void 0:e.call(a))}=h,{listHeight:i,listItemHeight:u,virtual:c,dropdownMatchSelectWidth:d,treeExpandAction:b}=g,{checkable:x,treeDefaultExpandAll:S,treeIcon:L,showTreeIcon:O,switcherIcon:P,treeLine:V,loadData:A,treeLoadedKeys:K,treeMotion:_,onTreeLoad:F,checkedKeys:$}=m;if(0===y.value.length)return s("div",{role:"listbox",class:`${l}-empty`,onMousedown:E},[r]);const H={fieldNames:g.fieldNames};return K&&(H.loadedKeys=K),I.value&&(H.expandedKeys=I.value),s("div",{onMousedown:E},[j.value&&n&&s("span",{style:Ve,"aria-live":"assertive"},[j.value.node.value]),s(ve,v(v({ref:f,focusable:!1,prefixCls:`${l}-tree`,treeData:y.value,height:i,itemHeight:u,virtual:!1!==c&&!1!==d,multiple:t,icon:L,showIcon:O,switcherIcon:P,showLine:V,loadData:o?null:A,motion:_,activeKey:T.value,checkable:x,checkStrictly:!0,checkedKeys:w.value,selectedKeys:x?[]:$,defaultExpandAll:S},H),{},{onActiveChange:D,onSelect:N,onCheck:N,onExpand:k,onLoad:F,filterTreeNode:C,expandAction:b}),p(p({},a),{checkable:m.customSlots.treeCheckable}))])}}}),Ke="SHOW_PARENT",_e="SHOW_CHILD";function Fe(e,l,t,a){const o=new Set(e);return l===_e?e.filter((e=>{const l=t[e];return!(l&&l.children&&l.children.some((e=>{let{node:l}=e;return o.has(l[a.value])}))&&l.children.every((e=>{let{node:l}=e;return Le(l)||o.has(l[a.value])})))})):l===Ke?e.filter((e=>{const l=t[e],a=l?l.parent:null;return!(a&&!Le(a.node)&&o.has(a.key))})):e}const $e=()=>null;$e.inheritAttrs=!1,$e.displayName="ATreeSelectNode",$e.isTreeSelectNode=!0;var He=function(e,l){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)l.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t};function Me(e){if(!e)return e;const l=p({},e);return"props"in l||Object.defineProperty(l,"props",{get:()=>l}),l}function Be(e,l,t){const a=c();return i([t,e,l],(()=>{const o=t.value;e.value?a.value=t.value?function(e,l){let{id:t,pId:a,rootPId:o}=l;const n={},r=[];return e.map((e=>{const l=p({},e),a=l[t];return n[a]=l,l.key=l.key||a,l})).forEach((e=>{const l=e[a],t=n[l];t&&(t.children=t.children||[],t.children.push(e)),(l===o||!t&&null===o)&&r.push(e)})),r}(d(e.value),p({id:"id",pId:"pId",rootPId:null},!0!==o?o:{})):d(e.value).slice():a.value=function e(){return h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((l=>{var t,a,o,n;if(!((n=l)&&n.type&&n.type.isTreeSelectNode))return null;const r=l.children||{},i=l.key,u={};for(const[e,p]of Object.entries(l.props))u[m(e)]=p;const{isLeaf:c,checkable:d,selectable:s,disabled:v,disableCheckbox:h}=u,g={isLeaf:c||""===c||void 0,checkable:d||""===d||void 0,selectable:s||""===s||void 0,disabled:v||""===v||void 0,disableCheckbox:h||""===h||void 0},f=p(p({},u),g),{title:y=(null===(t=r.title)||void 0===t?void 0:t.call(r,f)),switcherIcon:w=(null===(a=r.switcherIcon)||void 0===a?void 0:a.call(r,f))}=u,b=He(u,["title","switcherIcon"]),C=null===(o=r.default)||void 0===o?void 0:o.call(r),x=p(p(p({},b),{title:y,switcherIcon:w,key:i,isLeaf:c}),g),S=e(C);return S.length&&(x.children=S),x}))}(d(l.value))}),{immediate:!0,deep:!0}),a}function We(){return p(p({},ye(ie(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:w.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:w.any,treeMotion:w.any,children:Array,treeExpandAction:String,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:w.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:w.any,customSlots:Object})}const Re=o({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:we(We(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:_e,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup(e,l){let{attrs:t,expose:o,slots:u}=l;const h=ae(f(e,"id")),m=r((()=>e.treeCheckable&&!e.treeCheckStrictly)),w=r((()=>e.treeCheckable||e.treeCheckStrictly)),b=r((()=>e.treeCheckStrictly||e.labelInValue)),C=r((()=>w.value||e.multiple)),x=r((()=>function(e){const{label:l,value:t,children:a}=e||{},o=t||"value";return{_title:l?[l]:["title","label"],value:o,key:o,children:a||"children"}}(e.fieldNames))),[S,I]=be("",{value:r((()=>void 0!==e.searchValue?e.searchValue:e.inputValue)),postState:e=>e||""}),k=l=>{var t;I(l),null===(t=e.onSearch)||void 0===t||t.call(e,l)},E=Be(f(e,"treeData"),f(e,"children"),f(e,"treeDataSimpleMode")),{keyEntities:N,valueEntities:T}=((e,l)=>{const t=c(new Map),a=c({});return g((()=>{const o=l.value,n=pe(e.value,{fieldNames:o,initWrapper:e=>p(p({},e),{valueEntities:new Map}),processEntity:(e,l)=>{const t=e.node[o.value];l.valueEntities.set(t,e)}});t.value=n.valueEntities,a.value=n.keyEntities})),{valueEntities:t,keyEntities:a}})(E,x),j=((e,l,t)=>{let{treeNodeFilterProp:a,filterTreeNode:o,fieldNames:n}=t;return r((()=>{const{children:t}=n.value,r=l.value,i=null==a?void 0:a.value;if(!r||!1===o.value)return e.value;let u;if("function"==typeof o.value)u=o.value;else{const e=r.toUpperCase();u=(l,t)=>{const a=t[i];return String(a).toUpperCase().includes(e)}}return function e(l){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=[];for(let n=0,i=l.length;n<i;n++){const i=l[n],c=i[t],d=a||u(r,Me(i)),s=e(c||[],d);(d||s.length)&&o.push(p(p({},i),{[t]:s}))}return o}(e.value)}))})(E,S,{fieldNames:x,treeNodeFilterProp:f(e,"treeNodeFilterProp"),filterTreeNode:f(e,"filterTreeNode")}),D=e=>{var l;return(l=e,Array.isArray(l)?l:void 0!==l?[l]:[]).map((e=>function(e){return!e||"object"!=typeof e}(e)?{value:e}:e))},L=l=>D(l).map((l=>{let{label:t}=l;const{value:a,halfChecked:o}=l;let n;const r=T.value.get(a);return r&&(t=null!=t?t:(l=>{if(l){if(e.treeNodeLabelProp)return l[e.treeNodeLabelProp];const{_title:t}=x.value;for(let e=0;e<t.length;e+=1){const a=l[t[e]];if(void 0!==a)return a}}})(r.node),n=r.node.disabled),{label:t,value:a,halfChecked:o,disabled:n}})),[O,P]=be(e.defaultValue,{value:f(e,"value")}),V=r((()=>D(O.value))),A=c([]),K=c([]);g((()=>{const e=[],l=[];V.value.forEach((t=>{t.halfChecked?l.push(t):e.push(t)})),A.value=e,K.value=l}));const _=r((()=>A.value.map((e=>e.value)))),{maxLevel:F,levelEntities:$}=me(N),[H,M]=((e,l,t,a,o,n)=>{const r=c([]),i=c([]);return g((()=>{let u=e.value.map((e=>{let{value:l}=e;return l})),c=l.value.map((e=>{let{value:l}=e;return l}));const d=u.filter((e=>!a.value[e]));t.value&&({checkedKeys:u,halfCheckedKeys:c}=he(u,!0,a.value,o.value,n.value)),r.value=Array.from(new Set([...d,...u])),i.value=c})),[r,i]})(A,K,m,N,F,$),B=r((()=>{const l=Fe(H.value,e.showCheckedStrategy,N.value,x.value).map((e=>{var l,t,a;return null!==(a=null===(t=null===(l=N.value[e])||void 0===l?void 0:l.node)||void 0===t?void 0:t[x.value.value])&&void 0!==a?a:e})).map((e=>{const l=A.value.find((l=>l.value===e));return{value:e,label:null==l?void 0:l.label}})),t=L(l),a=t[0];return!C.value&&a&&Oe(a.value)&&Oe(a.label)?[]:t.map((e=>{var l;return p(p({},e),{label:null!==(l=e.label)&&void 0!==l?l:e.value})}))})),[W]=(e=>{const l=c({valueLabels:new Map}),t=c();return i(e,(()=>{t.value=d(e.value)}),{immediate:!0}),[r((()=>{const{valueLabels:e}=l.value,a=new Map,o=t.value.map((l=>{var t;const{value:o}=l,n=null!==(t=l.label)&&void 0!==t?t:e.get(o);return a.set(o,n),p(p({},l),{label:n})}));return l.value.valueLabels=a,o}))]})(B),R=(l,t,a)=>{const o=L(l);if(P(o),e.autoClearSearchValue&&I(""),e.onChange){let o=l;if(m.value){const t=Fe(l,e.showCheckedStrategy,N.value,x.value);o=t.map((e=>{const l=T.value.get(e);return l?l.node[x.value.value]:e}))}const{triggerValue:n,selected:r}=t||{triggerValue:void 0,selected:void 0};let i=o;if(e.treeCheckStrictly){const e=K.value.filter((e=>!o.includes(e.value)));i=[...i,...e]}const u=L(i),c={preValue:A.value,triggerValue:n};let d=!0;(e.treeCheckStrictly||"selection"===a&&!r)&&(d=!1),function(e,l,t,a,o,n){let r=null,i=null;function u(){i||(i=[],function e(a){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.map(((a,c)=>{const d=`${o}-${c}`,v=a[n.value],p=t.includes(v),h=e(a[n.children]||[],d,p),m=s($e,a,{default:()=>[h.map((e=>e.node))]});if(l===v&&(r=m),p){const e={pos:d,node:m,children:h};return u||i.push(e),e}return null})).filter((e=>e))}(a),i.sort(((e,l)=>{let{node:{props:{value:a}}}=e,{node:{props:{value:o}}}=l;return t.indexOf(a)-t.indexOf(o)})))}Object.defineProperty(e,"triggerNode",{get:()=>(u(),r)}),Object.defineProperty(e,"allCheckedNodes",{get:()=>(u(),o?i:i.map((e=>{let{node:l}=e;return l})))})}(c,n,l,E.value,d,x.value),w.value?c.checked=r:c.selected=r;const v=b.value?u:u.map((e=>e.value));e.onChange(C.value?v:v[0],b.value?null:u.map((e=>e.label)),c)}},U=(l,t)=>{let{selected:a,source:o}=t;var n,r,i;const u=d(N.value),c=d(T.value),s=u[l],v=null==s?void 0:s.node,p=null!==(n=null==v?void 0:v[x.value.value])&&void 0!==n?n:l;if(C.value){let e=a?[..._.value,p]:H.value.filter((e=>e!==p));if(m.value){const{missingRawValues:l,existRawValues:t}=(e=>{const l=[],t=[];return e.forEach((e=>{T.value.has(e)?t.push(e):l.push(e)})),{missingRawValues:l,existRawValues:t}})(e),o=t.map((e=>c.get(e).key));let n;({checkedKeys:n}=he(o,!!a||{checked:!1,halfCheckedKeys:M.value},u,F.value,$.value)),e=[...l,...n.map((e=>u[e].node[x.value.value]))]}R(e,{selected:a,triggerValue:p},o||"option")}else R([p],{selected:!0,triggerValue:p},"option");a||!C.value?null===(r=e.onSelect)||void 0===r||r.call(e,p,Me(v)):null===(i=e.onDeselect)||void 0===i||i.call(e,p,Me(v))},z=l=>{if(e.onDropdownVisibleChange){const t={};Object.defineProperty(t,"documentClickClose",{get:()=>!1}),e.onDropdownVisibleChange(l,t)}},G=(e,l)=>{const t=e.map((e=>e.value));"clear"!==l.type?l.values.length&&U(l.values[0].value,{selected:!1,source:"selection"}):R(t,{},"selection")},{treeNodeFilterProp:Y,loadData:X,treeLoadedKeys:q,onTreeLoad:J,treeDefaultExpandAll:Q,treeExpandedKeys:Z,treeDefaultExpandedKeys:ee,onTreeExpand:le,virtual:te,listHeight:ie,listItemHeight:ue,treeLine:ce,treeIcon:de,showTreeIcon:se,switcherIcon:ve,treeMotion:ge,customSlots:fe,dropdownMatchSelectWidth:we,treeExpandAction:Ce}=y(e);oe(ne({checkable:w,loadData:X,treeLoadedKeys:q,onTreeLoad:J,checkedKeys:H,halfCheckedKeys:M,treeDefaultExpandAll:Q,treeExpandedKeys:Z,treeDefaultExpandedKeys:ee,onTreeExpand:le,treeIcon:de,treeMotion:ge,showTreeIcon:se,switcherIcon:ve,treeLine:ce,treeNodeFilterProp:Y,keyEntities:N,customSlots:fe})),function(e){a(Pe,e)}(ne({virtual:te,listHeight:ie,listItemHeight:ue,treeData:j,fieldNames:x,onSelect:U,dropdownMatchSelectWidth:we,treeExpandAction:Ce}));const xe=n();return o({focus(){var e;null===(e=xe.value)||void 0===e||e.focus()},blur(){var e;null===(e=xe.value)||void 0===e||e.blur()},scrollTo(e){var l;null===(l=xe.value)||void 0===l||l.scrollTo(e)}}),()=>{var l;const a=ye(e,["id","prefixCls","customSlots","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return s(re,v(v(v({ref:xe},t),a),{},{id:h,prefixCls:e.prefixCls,mode:C.value?"multiple":void 0,displayValues:W.value,onDisplayValuesChange:G,searchValue:S.value,onSearch:k,OptionList:Ae,emptyOptions:!E.value.length,onDropdownVisibleChange:z,tagRender:e.tagRender||u.tagRender,dropdownMatchSelectWidth:null===(l=e.dropdownMatchSelectWidth)||void 0===l||l}),u)}}}),Ue=e=>{const{componentCls:l,treePrefixCls:t,colorBgElevated:a}=e,o=`.${t}`;return[{[`${l}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},ge(t,C(e,{colorBgContainer:a})),{[o]:{borderRadius:0,"&-list-holder-inner":{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},Te(`${t}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},ze=(e,l,t)=>void 0!==t?t:`${e}-${l}`,Ge=o({compatConfig:{MODE:3},name:"ATreeSelect",inheritAttrs:!1,props:we(p(p({},ye(We(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{suffixIcon:w.any,size:E(),bordered:N(),treeLine:T([Boolean,Object]),replaceFields:j(),placement:E(),status:E(),popupClassName:String,dropdownClassName:String,"onUpdate:value":D(),"onUpdate:treeExpandedKeys":D(),"onUpdate:searchValue":D()}),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:Object,setup(e,l){let{attrs:t,slots:a,expose:o,emit:i}=l;xe(!(void 0===e.treeData&&a.default)),Ce(!1!==e.multiple||!e.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),Ce(void 0===e.replaceFields,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead"),Ce(!e.dropdownClassName,"TreeSelect","`dropdownClassName` is deprecated. Please use `popupClassName` instead.");const u=Se(),c=Ie.useInject(),d=r((()=>Ee(c.status,e.status))),{prefixCls:h,renderEmpty:m,direction:g,virtual:f,dropdownMatchSelectWidth:y,size:w,getPopupContainer:E,getPrefixCls:N,disabled:T}=x("select",e),{compactSize:j,compactItemClassnames:D}=je(h,g),L=r((()=>j.value||w.value)),O=S(),P=r((()=>{var e;return null!==(e=T.value)&&void 0!==e?e:O.value})),V=r((()=>N())),A=r((()=>void 0!==e.placement?e.placement:"rtl"===g.value?"bottomRight":"bottomLeft")),K=r((()=>ze(V.value,ke(A.value),e.transitionName))),_=r((()=>ze(V.value,"",e.choiceTransitionName))),F=r((()=>N("select-tree",e.prefixCls))),$=r((()=>N("tree-select",e.prefixCls))),[H,M]=ue(h),[B]=function(e,l){return b("TreeSelect",(e=>{const t=C(e,{treePrefixCls:l.value});return[Ue(t)]}))(e)}($,F),W=r((()=>I(e.popupClassName||e.dropdownClassName,`${$.value}-dropdown`,{[`${$.value}-dropdown-rtl`]:"rtl"===g.value},M.value))),R=r((()=>!(!e.treeCheckable&&!e.multiple))),U=r((()=>void 0!==e.showArrow?e.showArrow:e.loading||!R.value)),z=n();o({focus(){var e,l;null===(l=(e=z.value).focus)||void 0===l||l.call(e)},blur(){var e,l;null===(l=(e=z.value).blur)||void 0===l||l.call(e)}});const G=function(){for(var e=arguments.length,l=new Array(e),t=0;t<e;t++)l[t]=arguments[t];i("update:value",l[0]),i("change",...l),u.onFieldChange()},Y=e=>{i("update:treeExpandedKeys",e),i("treeExpand",e)},X=e=>{i("update:searchValue",e),i("search",e)},q=e=>{i("blur",e),u.onFieldBlur()};return()=>{var l,o,n;const{notFoundContent:r=(null===(l=a.notFoundContent)||void 0===l?void 0:l.call(a)),prefixCls:i,bordered:w,listHeight:b,listItemHeight:C,multiple:x,treeIcon:S,treeLine:N,showArrow:T,switcherIcon:j=(null===(o=a.switcherIcon)||void 0===o?void 0:o.call(a)),fieldNames:O=e.replaceFields,id:V=u.id.value,placeholder:J=(null===(n=a.placeholder)||void 0===n?void 0:n.call(a))}=e,{isFormItemInput:Q,hasFeedback:Z,feedbackIcon:ee}=c,{suffixIcon:le,removeIcon:te,clearIcon:ae}=ce(p(p({},e),{multiple:R.value,showArrow:U.value,hasFeedback:Z,feedbackIcon:ee,prefixCls:h.value}),a);let oe;oe=void 0!==r?r:m("Select");const ne=ye(e,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","status","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),re=I(!i&&$.value,{[`${h.value}-lg`]:"large"===L.value,[`${h.value}-sm`]:"small"===L.value,[`${h.value}-rtl`]:"rtl"===g.value,[`${h.value}-borderless`]:!w,[`${h.value}-in-form-item`]:Q},Ne(h.value,d.value,Z),D.value,t.class,M.value),ie={};return void 0===e.treeData&&a.default&&(ie.children=k(a.default())),H(B(s(Re,v(v(v(v({},t),ne),{},{disabled:P.value,virtual:f.value,dropdownMatchSelectWidth:y.value,id:V,fieldNames:O,ref:z,prefixCls:h.value,class:re,listHeight:b,listItemHeight:C,treeLine:!!N,inputIcon:le,multiple:x,removeIcon:te,clearIcon:ae,switcherIcon:e=>fe(F.value,j,e,a.leafIcon,N),showTreeIcon:S,notFoundContent:oe,getPopupContainer:null==E?void 0:E.value,treeMotion:null,dropdownClassName:W.value,choiceTransitionName:_.value,onChange:G,onBlur:q,onSearch:X,onTreeExpand:Y},ie),{},{transitionName:K.value,customSlots:p(p({},a),{treeCheckable:()=>s("span",{class:`${h.value}-tree-checkbox-inner`},null)}),maxTagPlaceholder:e.maxTagPlaceholder||a.maxTagPlaceholder,placement:A.value,showArrow:Z||T,placeholder:J}),p(p({},a),{treeCheckable:()=>s("span",{class:`${h.value}-tree-checkbox-inner`},null)}))))}}}),Ye=$e,Xe=p(Ge,{TreeNode:$e,SHOW_ALL:"SHOW_ALL",SHOW_PARENT:Ke,SHOW_CHILD:_e,install:e=>(e.component(Ge.name,Ge),e.component(Ye.displayName,Ye),e)}),qe=(e,l=0)=>{let t=[];return window.lodash.sortBy(e.filter((e=>l===e.parent)),"menu_order").forEach((l=>{var a,o;const n=qe(e.filter((e=>0!==e.parent)),l.id);let r=null!==(a=e.filter((e=>e.id===l.parent))[0])&&void 0!==a?a:null;for(;r&&0!==r.parent;){var i;r=null!==(i=e.filter((e=>e.id===r.parent))[0])&&void 0!==i?i:null}t.push({key:l.id,label:null!==(o=wp.htmlEntities.decodeEntities(l.label))&&void 0!==o?o:`${l.id}`,value:l.id,menu_order:l.menu_order,children:n})})),t};e("default",De(o({__name:"CategoryFilter",props:{sectionName:{},rowId:{},columnId:{},fieldId:{}},setup(e){const l=r((()=>W(e.sectionName,e.rowId,e.columnId,e.fieldId))),{on:t}=Z("wwofDefaultCategorySettingsChange"),{on:a}=Z("wwofIncludedCategoryChange"),{on:o}=Z("wwofExcludedCategoryChange"),i=r((()=>R(e.sectionName,e.rowId,e.columnId,e.fieldId))),{emit:u}=Z("wwofCategorySelectSubmit"),c=U(),{wcCategoriesRequestView:d,categories:v,categorySelected:p}=L(c),h=r((()=>{var e;return d.value!==z.IDLE?G("loadingEllipsis",wp.i18n.__("Loading...","woocommerce-wholesale-order-form")):(null===(e=l.value)||void 0===e||null===(e=e.options)||void 0===e?void 0:e.placeholder)||G("selectCategory",wp.i18n.__("Select Category","woocommerce-wholesale-order-form"))})),m=n(!0),g=r((()=>Y().settings.includedCategories.length>0||m.value&&Y().internal.categories.include.length>0));t((()=>{m.value=!1})),a((()=>{m.value=!1})),o((()=>{m.value=!1}));const f=r((()=>{let l=[{label:h.value,id:"",value:"",parent:0,menu_order:-1}];return m.value&&Y().internal.categories.include.length>0?(l=Y().internal.categories.include.reduce(((e,l)=>{const t="edit"===X().context?`[ID: ${l.id}] ${l.name}`:l.name;return e.push({label:t,id:l.id,value:l.id,parent:l.parent,menu_order:l.menu_order}),e}),[]),l=window.lodash.sortBy(l,"menu_order")):Y().settings.includedCategories.length>0?(l=[...v.value.data.reduce(((e,l)=>{if(Y().settings.includedCategories.length>0&&!Y().settings.includedCategories.includes(l.id))return e;const t="edit"===X().context?`[ID: ${l.id}] ${l.name}`:l.name;return e.push({label:t,id:l.id,value:l.id,parent:l.parent,menu_order:l.menu_order}),e}),[])],l=window.lodash.sortBy(l,"menu_order")):(l=[...l,...v.value.data.reduce(((e,l)=>{if(Y().settings.excludedCategories.length>0&&Y().settings.excludedCategories.includes(l.id))return e;const t="edit"===X().context?`[ID: ${l.id}] ${l.name}`:l.name;return e.push({label:t,id:l.id,value:l.id,parent:l.parent,menu_order:l.menu_order}),e}),[])],l.length>1&&(l=qe(l))),q("wwof_category_filter_options",l,e.sectionName,e.rowId,e.columnId,e.fieldId)}));O((()=>{c.getWcCategories().then((()=>{let{totalPages:e,currentPage:l}=v.value;for(;l<e;)++l,c.getWcCategories({page:l})}))}));const y=e=>{var t;p.value=v.value.data.find((l=>l.id===Number(e))),"yes"===(null===(t=l.value)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.submitOnChange)&&u(p.value)},w=e=>{const l=e.target;if(l.scrollTop+l.offsetHeight===l.scrollHeight){const e=v.value.currentPage+1;if(e>v.value.totalPages)return;c.getWcCategories({page:e})}},b=(e,l)=>l.label.toLowerCase().indexOf(e.toLowerCase())>=0,C=de.Option;return(e,l)=>{var t,a;return P(),V("div",{class:"category-filter-box",style:B(A(Q)(e.sectionName,e.rowId,e.columnId,e.fieldId))},[A(d)!==A(z).IDLE?(P(),K(A(de),{key:0,value:"",options:[{label:"Loading...",value:""}]})):g.value?(P(),K(A(de),{key:1,value:(null===(t=A(p))||void 0===t?void 0:t.id)||"","allow-clear":!0,placeholder:h.value,style:B(i.value),"get-popup-container":A(J),class:"wwof-category-filter",onChange:y,onPopupScroll:w},{default:_((()=>[s(A(C),{value:""},{default:_((()=>[F($(h.value),1)])),_:1}),(P(!0),V(H,null,M(f.value,(e=>(P(),K(A(C),{key:e.value,value:e.value},{default:_((()=>[F($(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","placeholder","style","get-popup-container"])):(P(),K(A(Xe),{key:2,class:"wwof-category-filter",value:(null===(a=A(p))||void 0===a?void 0:a.id)||"","allow-clear":!0,"show-search":!0,style:B(i.value),placeholder:h.value,"search-placeholder":h.value,"dropdown-style":{overflowY:"scroll"},"list-height":300,"tree-data":f.value,"show-checked-strategy":A(Xe).SHOW_PARENT,"get-popup-container":A(J),"filter-tree-node":b,onChange:y},null,8,["value","style","placeholder","search-placeholder","tree-data","show-checked-strategy","get-popup-container"]))],4)}}}),[["__scopeId","data-v-8ee5c472"]]))}}}));
