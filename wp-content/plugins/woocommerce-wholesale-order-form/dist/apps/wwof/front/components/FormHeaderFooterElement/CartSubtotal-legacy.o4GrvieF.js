System.register(["../../../../../common/LoadingOutlined-legacy.CPhLaklC.js","../../../../../common/index-legacy.BXaB4RSa.js","../../../../../common/LoadingSpinner.vue_vue_type_script_setup_true_lang-legacy.DUjpgbC2.js","../../../../../common/currency-context-legacy.CeSwfyD0.js","../../../../../common/_commonjsHelpers-legacy.DUdKTVN3.js","../../../../../common/ExclamationCircleFilled-legacy.pk-fzLqd.js","../../../../../common/index-legacy.6YzH0Q6d.js","../../../../../common/initDefaultProps-legacy.Dg02spAx.js"],(function(l,o){"use strict";var e,n,t,i,r,c,a,u,s,m,d,p,_,w,v,y,f,x,g,I,S,b,j;return{setters:[l=>{e=l.d,n=l.i,t=l.c,i=l.G,r=l.o,c=l.f,a=l.u,u=l.N,s=l.K,m=l.L,d=l.k,p=l.aa},l=>{_=l.T,w=l.V,v=l.u,y=l.b,f=l.c,x=l.j,g=l.p,I=l.w,S=l.W},l=>{b=l._},l=>{j=l.C},null,null,null,null],execute:function(){const o=["innerHTML"];l("default",e({__name:"CartSubtotal",props:{sectionName:{},rowId:{},columnId:{},fieldId:{}},setup(l){const e=n("$window"),h=_(l.sectionName,l.rowId,l.columnId,l.fieldId),T=t((()=>w(l.sectionName,l.rowId,l.columnId,l.fieldId))),C=v(),{cartTotals:D,getCartItemsRequest:L,getCartItemsError:N}=i(C),O=t((()=>{var l,o,n,t,i,r,c,a,u,s,m,d,p;const _=D.value,w=j({symbol:null!==(l=null==_?void 0:_.currency_symbol)&&void 0!==l?l:e.wwofObj.wcSettings.currency.symbol,precision:null!==(o=null==_?void 0:_.currency_minor_unit)&&void 0!==o?o:e.wwofObj.wcSettings.currency.numDecimals,symbolPosition:null!==(n=null==_?void 0:_.currency_position)&&void 0!==n?n:e.wwofObj.wcSettings.currency.position,decimalSeparator:null!==(t=null==_?void 0:_.currency_decimal_separator)&&void 0!==t?t:e.wwofObj.wcSettings.currency.decimalSeparator,thousandSeparator:null!==(i=null==_?void 0:_.currency_thousand_separator)&&void 0!==i?i:e.wwofObj.wcSettings.currency.thousandSeparator,priceFormat:null!==(r=null==_?void 0:_.currencyPriceFormat)&&void 0!==r?r:""}),v=(null==h||null===(c=h.options)||void 0===c?void 0:c.preText)||"Subtotal: ",x=(null==h||null===(a=h.options)||void 0===a?void 0:a.taxDisplay)||(null===(u=y())||void 0===u||null===(u=u.wwppSettings)||void 0===u||null===(u=u.wholesaleTax)||void 0===u?void 0:u.cart)||(null===(s=y())||void 0===s||null===(s=s.wcSettings)||void 0===s||null===(s=s.taxDisplayMode)||void 0===s?void 0:s.cart)||"excl";let g=(null==h||null===(m=h.options)||void 0===m?void 0:m.subtotalSuffix)||(null===(d=y())||void 0===d||null===(d=d.wcSettings)||void 0===d?void 0:d.priceDisplaySuffix)||"";null!=h&&null!==(p=h.options)&&void 0!==p&&p.subtotalSuffix&&(g=h.options.subtotalSuffix.includes("{price_including_tax}")?"<small>"+g.replace("{price_including_tax}",w.formatAmount(parseInt(_.total_price)/10**_.currency_minor_unit))+"</small>":h.options.subtotalSuffix.includes("{price_excluding_tax}")?"<small>"+g.replace("{price_excluding_tax}",w.formatAmount(parseInt(_.total_items)/10**_.currency_minor_unit))+"</small>":"<small>"+h.options.subtotalSuffix+"</small>");const I=g||("incl"===x?"<smal>"+f("inclTax",wp.i18n.__("(incl. tax)","woocommerce-wholesale-order-form"))+"</small>":"<smal>"+f("exclTax",wp.i18n.__("(excl. tax)","woocommerce-wholesale-order-form"))+"</smal>");return wp.i18n.sprintf(wp.i18n._x("%1$s%2$s %3$s","Price amount excluding tax","woocommerce-wholesale-order-form"),v?`<span class="subtotal-pretext">${v}</span>`:"",w.formatAmount(parseInt("incl"===x?_.total_price:_.total_items,10)/10**_.currency_minor_unit),I)}));return(l,e)=>(r(),c("div",{class:"cart-subtotal-box",style:p(a(S)(l.sectionName,l.rowId,l.columnId,l.fieldId))},[a(L)===a(x).IDLE&&null==a(N)&&null==a(D)?(r(),c(u,{key:0},[s(m(a(f)("emptyCart",a(wp.i18n.__)("Empty Cart","woocommerce-wholesale-order-form"))),1)],64)):a(L)!==a(x).IDLE?(r(),d(b,{key:1})):(r(),c("div",{key:2,style:p(T.value),innerHTML:a(g)(a(I)("wwof_cart_subtotal",O.value,l.sectionName,l.rowId,l.columnId,l.fieldId))},null,12,o))],4))}}))}}}));
