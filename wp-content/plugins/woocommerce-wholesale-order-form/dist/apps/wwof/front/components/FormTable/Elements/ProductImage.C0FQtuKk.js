import{d as v,i as k,c as l,b,o as n,f as y,u as c,k as w,q as P,g as A}from"../../../../../../common/LoadingOutlined.BFkAxzyV.js";import{X as h,_ as e,w as C,p as B}from"../../../../../../common/index.Ith4SzXf.js";import{I as S,P as V}from"../../../../../../common/ProductInfoModal.CgfV7_AU.js";import{_ as j}from"../../../../../../common/_plugin-vue_export-helper.DlAUqK2U.js";import"../../../../../../common/_commonjsHelpers.BosuxZz1.js";import"../../../../../../common/ExclamationCircleFilled.CrW3q_TN.js";import"./InStockAmount.C439cTL9.js";import"../../../../../../common/QuantityBasedPricingTable.vue_vue_type_script_setup_true_lang.BgKZZkwy.js";import"../../../../../../common/currency-context.C3AYz1z8.js";import"../../../../../../common/index.BuOrcqbC.js";import"../../../../../../common/styleChecker.BhhSW-4N.js";import"../../../../../../common/eagerComputed.Bhszqfqe.js";import"../../../../../../common/vnode.BC_D2aP8.js";import"../../../../../../common/collapseMotion.CnwYBKtm.js";import"../../../../../../common/motion.WGHlFb5s.js";import"../../../../../../common/raf.Deuc0E8-.js";import"../../../../../../common/isVisible.BHYmLg1T.js";import"../../../../../../common/ResizeObserver.es.B1PUzC5B.js";import"../../../../../../common/_getTag.CiIQqq4n.js";import"../../../../../../common/PortalWrapper.BCGj8rtm.js";import"../../../../../../common/devWarning.BVoSASTV.js";import"../../../../../../common/warning.CrM1WiW4.js";import"../../../../../../common/BaseInput.C6Ke7hb1.js";import"../../../../../../common/useState.L1hofs5h.js";import"../../../../../../common/pickAttrs.GzdKbNmm.js";import"../../../../../../common/index.CjASPO7n.js";import"../../../../../../common/initDefaultProps.0LfrQis0.js";import"../../../../../../common/index.D28aorQO.js";import"../../../../../../common/LeftOutlined.Hqnl-2Tc.js";import"../../../../../../common/RightOutlined.TiLRDrc6.js";import"../../../../../../common/index.BGHkQlAe.js";import"../../../../../../common/KeyCode.B_gOgbN6.js";import"../../../../../../common/slide.DZmo5x4X.js";import"../../../../../../common/isMobile.BbN7I0i_.js";import"../../../../../../common/omit.DTkbSo29.js";import"../../../../../../common/useMergedState.DXdtLiCT.js";import"../../../../../../common/DownOutlined.Bgw7W-Qg.js";import"../../../../../../common/SearchOutlined.K2PZqdQC.js";import"../../../../../../common/FormItemContext.CuFDkfIX.js";import"../../../../../../common/createContext.DiHI9yzd.js";import"../../../../../../common/statusUtils.DES_qYlM.js";import"../../../../../../common/Compact.bO-KmQeW.js";import"../../../../../../common/move.iWCDh3n7.js";import"../../../../../../common/compact-item.Be3L5ggo.js";import"../../../../../../common/useBreakpoint.S--6DhMF.js";import"../../../../../../common/responsiveObserve.BxgVt-aQ.js";import"../../../../../../common/index.CUGsZk5V.js";import"../../../../../../common/firstNotUndefined.CLFzEa0p.js";import"../../../../../../common/index.FTpNJ4uu.js";import"../../../../../../common/index.BYshCuJZ.js";import"../../../../../../common/index.RfEH1ihW.js";import"../../../../../../common/Checkbox.CYa6__iO.js";import"../../../../../../common/dropdown.CDjBCMOf.js";import"../../../../../../common/index.0mGPX0wK.js";import"../../../../../../common/_arrayIncludes.B8uzE354.js";import"../../../../../../common/injectionKey.DGYNie3Z.js";import"../../../../../../common/index.BVxneXNm.js";import"../../../../../../common/colors.Do-YmLJ0.js";import"../../../../../../common/index.Bdw1ik1L.js";import"../../../../../../common/index.DjkvlaSA.js";import"../../../../../../common/index.gaSFaOg8.js";import"../../../../../../common/CaretUpOutlined.BBnMPvd9.js";import"../../../../../../common/index.lxr2aJRu.js";import"../../../../../../common/isPlainObject.DIpfZ0jz.js";import"../../../../../../common/debounce.C88Ko_T_.js";import"../../../../../../common/QuantityInput.vue_vue_type_script_setup_true_lang.BoUaqZBR.js";import"../../../../../../common/index.BYWy4BdB.js";import"../../../../../../common/index.Dui4U8Hg.js";import"../../../../../../common/ActionButton.CECSKzhY.js";import"../../../../../../common/useDestroyed.puOwgd-l.js";import"../../../../../../common/index.D3pgvkn5.js";import"../../../../../../common/index.C08f97vy.js";import"../../../../../../common/useFlexGapSupport.BqBlA3Mn.js";import"../../../../../../common/ShoppingCartOutlined.B2D8qpCU.js";import"../../../../../../common/index.DuHmgJ7E.js";import"../../../../../../common/index.D3Qmjxc3.js";import"../../../../../../common/Col.C48UZKBg.js";const z={class:"product-image-box"},F=48,O=48,E=v({__name:"ProductImage",props:{product:{},columnId:{}},setup(o){const p=k("$window"),g=l(()=>{var i,t,r,m,s;return o.product.type==="variable"?window.lodash.isEmpty((t=(i=h(o.product).value)==null?void 0:i.image)==null?void 0:t.src)?p.wwofObj.placeholderImg:h(o.product).value.image.src:(s=(m=(r=o.product.images)==null?void 0:r[0])==null?void 0:m.src)!=null?s:p.wwofObj.placeholderImg}),d=l(()=>{var r,m;const i=(r=e(o.columnId,"imageSize"))==null?void 0:r.width,t=(m=e(o.columnId,"imageSize"))==null?void 0:m.height;return{width:i?parseInt(i):F,height:t?parseInt(t):O}}),f=l(()=>e(o.columnId,"clickAction")==="show-image-popup"),a=b(!1),I=()=>{var t;switch((t=e(o.columnId,"clickAction"))!=null?t:"show-product-details"){case"show-product-details":a.value=!a.value;break;case"navigate-to-product-page":e(o.columnId,"openInNewTab")==="yes"?p.open(o.product.permalink,"_blank"):p.open(o.product.permalink,"_self");break}},u=C("wwof_product_image",null,o.product,o.columnId);return(i,t)=>(n(),y("div",z,[c(u)?(n(),w(P({template:c(B)(c(u))}),{key:0})):(n(),w(c(S),{key:1,src:g.value,alt:i.product.name,width:d.value.width,height:d.value.height,preview:f.value,onClick:I},null,8,["src","alt","width","height","preview"])),A(V,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),product:i.product,"column-id":i.columnId},null,8,["modelValue","product","column-id"])]))}}),mt=j(E,[["__scopeId","data-v-44b72291"]]);export{mt as default};
