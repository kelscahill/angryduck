System.register(["../../../../common/LoadingOutlined-legacy.CPhLaklC.js","../../../../common/Modal-legacy.N9ooLJJU.js","../components/FormTable/Columns/ShortcodeColumn-legacy.D72FlMoq.js","../../../../common/LocationsColumn.vue_vue_type_script_setup_true_lang-legacy.ZcYrqk8E.js","../../../../common/StatusColumn.vue_vue_type_script_setup_true_lang-legacy.BVcewxxn.js","../components/FormTable/Columns/ActionColumn-legacy.Lol1UAjY.js","../../../../common/index-legacy.BXaB4RSa.js","../../../../common/index-legacy.BwKQFx3_.js","../../../../common/index-legacy.BdsBHs-a.js","../../../../common/index-legacy.A55XFsN3.js","../../../../common/index-legacy.BiKgoXrn.js","../../../../common/index-legacy.XsgHM641.js","../../../../common/index-legacy.B0qntR5e.js","../../../../common/KeyCode-legacy.CYgXvjDm.js","../../../../common/omit-legacy.BQBjzFAf.js","../../../../common/pickAttrs-legacy.D7W1GfS4.js","../../../../common/initDefaultProps-legacy.Dg02spAx.js","../../../../common/ExclamationCircleFilled-legacy.pk-fzLqd.js","../../../../common/PortalWrapper-legacy.DAyoZhpc.js","../../../../common/raf-legacy.BuqC4Cal.js","../../../../common/motion-legacy.Bqa37s8Y.js","../../../../common/vnode-legacy.D_pD5Ypg.js","../../../../common/isVisible-legacy.DY5sQV1e.js","../../../../common/ResizeObserver.es-legacy.0iJwNYH9.js","../../../../common/_getTag-legacy.C5XgQwbj.js","../../../../common/styleChecker-legacy.Cnshc1nm.js","../../../../common/index-legacy.Gq9xuB9G.js","../../../../common/firstNotUndefined-legacy.C018uCjX.js","../../../../common/colors-legacy.Bq7ba7Dp.js","../../../../common/ActionButton-legacy.dH08l5Em.js","../../../../common/useDestroyed-legacy.BiFlxpW3.js","../../../../common/index-legacy.B32r2hhk.js","../../../../common/_commonjsHelpers-legacy.DUdKTVN3.js","../../../../common/index-legacy.DmpGSEei.js","../../../../common/FormItemContext-legacy.Bn2BifA3.js","../../../../common/createContext-legacy.BN14iAW9.js","../../../../common/statusUtils-legacy.B_kTqdc-.js","../../../../common/BaseInput-legacy.Cv2S-5JS.js","../../../../common/Compact-legacy.DDJsKFLh.js","../../../../common/index-legacy.hFYw8k_D.js","../../../../common/compact-item-legacy.DIFhuQPK.js","../../../../common/SearchOutlined-legacy.BXpp2u4b.js","../../../../common/isPlainObject-legacy.D71rPXzM.js","../../../../common/_plugin-vue_export-helper-legacy.DgAO6S8O.js","../../../../common/index-legacy.BO0QmMSA.js","../../../../common/useState-legacy.Cz9hM3Y9.js","../../../../common/devWarning-legacy.BL7D_mCx.js","../../../../common/warning-legacy.BV4CRm2j.js","../../../../common/index-legacy.BpdG-qjg.js","../../../../common/DeleteOutlined-legacy.BOssxJOO.js","../../../../common/useFlexGapSupport-legacy.GR596bXG.js","../../../../common/Col-legacy.BbwJYWOZ.js","../../../../common/responsiveObserve-legacy.C9Flzrl6.js","../../../../common/eagerComputed-legacy.CNh9TEFW.js","../../../../common/collapseMotion-legacy.drnbwylt.js","../../../../common/index-legacy.6YzH0Q6d.js","../../../../common/index-legacy.BQ-v6yGm.js","../../../../common/LeftOutlined-legacy.DGtz3njI.js","../../../../common/RightOutlined-legacy.BnbeLTA-.js","../../../../common/index-legacy.DJlMOCyj.js","../../../../common/slide-legacy.B70IHwQ7.js","../../../../common/isMobile-legacy.u4Sbg_0V.js","../../../../common/useMergedState-legacy.DcZ24Ay_.js","../../../../common/DownOutlined-legacy.aSxLjf1f.js","../../../../common/move-legacy.DLrpAbGJ.js","../../../../common/useBreakpoint-legacy.Cihs7cBR.js","../../../../common/index-legacy.CoALAfr8.js","../../../../common/index-legacy.DpNpN-mM.js","../../../../common/index-legacy.CvJmBohS.js","../../../../common/Checkbox-legacy.C84fa3zc.js","../../../../common/dropdown-legacy.D907biFV.js","../../../../common/index-legacy.BfPnS71V.js","../../../../common/_arrayIncludes-legacy.CzP_4yYc.js","../../../../common/injectionKey-legacy.Bb0V2XzK.js","../../../../common/index-legacy.B0ACRC-J.js","../../../../common/CaretUpOutlined-legacy.52c7lmqm.js","../../../../common/debounce-legacy.CnMUIW-e.js"],(function(e,o){"use strict";var l,n,a,s,t,c,m,r,i,u,d,w,y,g,f,p,j,_,h,v,x,b,k,F,C,D,O,I,P,S,T,V,A,N,L,M,B;return{setters:[e=>{l=e.d,n=e.G,a=e.i,s=e.b,t=e.c,c=e.u,m=e.e,r=e.o,i=e.f,u=e.M,d=e.k,w=e.L,y=e.g,g=e.l,f=e.K,p=e.au,j=e.J,_=e.N,h=e.h},e=>{v=e.c},e=>{x=e.default},e=>{b=e._},e=>{k=e._},e=>{F=e.default},e=>{C=e.h,D=e.c,O=e.j,I=e.b,P=e.p,S=e.E,T=e.B},e=>{V=e.B},e=>{A=e.S},e=>{N=e.R,L=e.C},e=>{M=e.T},e=>{B=e.T},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const o=["innerHTML"],z={class:"list-table-action-btns wwof-tw-my-1"},E={class:"notice notice-info"},G={class:"wwof-tw-text-lg wwof-tw-font-semibold"};e("default",l({__name:"FormTable",setup(e){const l=C(),{migratingV2FormStatus:K,deleteV2FormStatus:R}=n(l),$=a("$window"),H=wp.i18n.sprintf(D("orderFormTableDesc",wp.i18n.__("Below is a list of all the order forms for displaying products that you have on your store. Click each form to edit it's settings or add a new form using the %1$sAdd Form%2$s button below. Forms can be placed on pages via the given shortcode or via an editor block. Forms can be reused on multiple pages and you can also query what pages each form appears on.","woocommerce-wholesale-order-form")),"<code>","</code>");let U=s([]);const W=()=>{const e=U.value.length;v({title:D("deleteFormConfirm",wp.i18n._n("Are you sure you want to delete this form?","Are you sure you want to delete these forms?",e,"woocommerce-wholesale-order-form")),icon:h(S),centered:!0,onOk(){l.deleteForm(c(U)).then((o=>{const{data:l}=o;null!=(null==l?void 0:l.deleted)&&T.success({message:D("nFormsDeleted",wp.i18n._n("Form deleted","Forms deleted",e,"woocommerce-wholesale-order-form")),description:D("nFormsDeletedDesc",wp.i18n._n("Your form was successfully deleted.","Your forms were successfully deleted.",e,"woocommerce-wholesale-order-form")),class:"wwof-success-notification",duration:2,onClose:()=>{$.location.reload()}})}))},okText:D("okCaps",wp.i18n.__("OK","woocommerce-wholesale-order-form")),cancelText:D("cancel",wp.i18n.__("Cancel","woocommerce-wholesale-order-form"))})},Q=t((()=>K.value===O.PENDING?D("migrating",wp.i18n.__("Migrating...","woocommerce-wholesale-order-form")):D("migrateV2Data",wp.i18n.__("Migrate V2 Form Data","woocommerce-wholesale-order-form")))),Y=()=>{l.migrateV2Form().then((e=>{T.success({message:D("migrated",wp.i18n.__("Migrated","woocommerce-wholesale-order-form")),description:e.data.message,class:"wwof-success-notification",duration:2,onClose:()=>{$.location.reload()}})}))},J=t((()=>R.value===O.PENDING?D("deleting",wp.i18n.__("Deleting...","woocommerce-wholesale-order-form")):D("deleteV2FormData",wp.i18n.__("Cleanup Old Form Data","woocommerce-wholesale-order-form")))),q=()=>{v({title:D("deleteV2FormDataConfirm",wp.i18n.__("Are you sure you want to delete V2 Form Data?","woocommerce-wholesale-order-form")),icon:h(S),centered:!0,onOk(){l.deleteV2FormData().then((e=>{T.success({message:D("deleted",wp.i18n.__("Deleted","woocommerce-wholesale-order-form")),description:e.data.message,class:"wwof-success-notification",duration:2,onClose:()=>{$.location.reload()}})}))},okText:D("yes",wp.i18n.__("Yes","woocommerce-wholesale-order-form")),cancelText:D("cancel",wp.i18n.__("Cancel","woocommerce-wholesale-order-form"))})},X=t((()=>({selectedRowKeys:c(U),onChange(e){U.value=e}}))),Z=[{title:D("orderFormName",wp.i18n.__("Order Form Name","woocommerce-wholesale-order-form")),dataIndex:"name",key:"name",class:"name"},{title:D("shortcode",wp.i18n.__("Shortcode","woocommerce-wholesale-order-form")),dataIndex:"shortcode",key:"shortcode"},{title:D("locations",wp.i18n.__("Locations","woocommerce-wholesale-order-form")),dataIndex:"locations",key:"locations",class:"locations"},{title:D("status",wp.i18n.__("Status","woocommerce-wholesale-order-form")),dataIndex:"status",key:"status"},{title:D("action",wp.i18n.__("Action","woocommerce-wholesale-order-form")),key:"action",dataIndex:"action"}],ee=t((()=>Object.keys(l.formPosts).reverse().map((e=>{const o=l.formPosts[Number(e)];return{key:o.ID,name:o.post_title,shortcode:`[wwof_product_listing id="${o.ID}"]`,locations:o.locations,status:o.post_status}})))),oe=t((()=>Object.keys(l.formPosts).map((e=>l.formPosts[e])).find((e=>"is"===e.v2)))),le=t((()=>Object.keys(l.formPosts).map((e=>l.formPosts[e])).find((e=>"has"===e.v2)))),ne=s(1),ae=e=>{ne.value=e.current,l.formPostsQuery(ne.value).then((e=>{l.formPosts=e.data}))},se=t((()=>({current:ne.value,total:I().orderForms.total})));return(e,n)=>{const a=m("RouterLink");return r(),i(_,null,[u("p",{class:"wwof-tw-text-base wwof-tw-mt-3 wwof-tw-mb-5",innerHTML:c(P)(c(H))},null,8,o),u("div",z,[le.value?(r(),d(p,{key:0,to:"#wwof-notices"},[u("div",E,[u("h4",null,w(c(D)("v2FormDataCleanupLabel",c(wp.i18n.__)("Confirm old form data cleanup","woocommerce-wholesale-order-form"))),1),u("p",null,w(c(D)("deleteV2FormDataDesc",c(wp.i18n.__)("Welcome to version 3.0 of Wholesale Order Form! Your forms have automatically been migrated to the new version. Once you have confirmed everything is working, click below to clean up the old form data.","woocommerce-wholesale-order-form"))),1),u("p",null,[y(c(V),{class:"remove-v2-forms-data-btn wwof-tw-border-slate-500 wwof-tw-italic",size:"small",onClick:q},{default:g((()=>[f(w(J.value),1)])),_:1})])])])):j("",!0),y(c(A),null,{default:g((()=>[u("span",G,w(c(D)("orderForms",c(wp.i18n.__)("Order Forms","woocommerce-wholesale-order-form"))),1),y(a,{to:`${c(wp.url.addQueryArgs)(c(I)().adminBaseUrl,{post:"new"})}`},{default:g((()=>[y(c(V),{size:"large",class:"wwof-tw-bg-gray-100 wwof-tw-text-sky-700 wwof-tw-border-sky-700 wwof-tw-font-bold"},{default:g((()=>[f(w(c(D)("addForm",c(wp.i18n.__)("Add Form","woocommerce-wholesale-order-form"))),1)])),_:1})])),_:1},8,["to"]),oe.value?(r(),d(c(V),{key:0,class:"migrate-forms-btn wwof-tw-border-slate-500 wwof-tw-italic",size:"small",type:"dashed",onClick:Y},{default:g((()=>[f(w(Q.value),1)])),_:1})):j("",!0),c(U).length>0?(r(),d(c(V),{key:1,class:"delete-forms-btn",size:"large",danger:"",onClick:W},{default:g((()=>[f(w(c(D)("delete",c(wp.i18n.__)("Delete"))),1)])),_:1})):j("",!0)])),_:1})]),y(c(B),{class:"order-forms","row-selection":X.value,"data-source":ee.value,columns:Z,bordered:"",pagination:se.value,loading:c(l).formPostsQueryStatus===c(O).PENDING,onChange:ae},{bodyCell:g((({column:e,record:o})=>["name"===e.dataIndex?(r(),d(c(N),{key:0,justify:"space-between"},{default:g((()=>{var e;return[y(c(L),null,{default:g((()=>[f(w(o.name),1)])),_:2},1024),"is"===(null===(e=c(l).formPosts[o.key])||void 0===e?void 0:e.v2)?(r(),d(c(L),{key:0},{default:g((()=>[y(c(M),{class:"wwof-tw-text-yellow-500"},{default:g((()=>n[0]||(n[0]=[f(" v2 ")]))),_:1})])),_:1})):j("",!0)]})),_:2},1024)):j("",!0),"shortcode"===e.dataIndex?(r(),d(x,{key:1,"form-id":o.key},null,8,["form-id"])):j("",!0),"locations"===e.dataIndex?(r(),d(b,{key:2,locations:o.locations},null,8,["locations"])):j("",!0),"status"===e.dataIndex?(r(),d(k,{key:3,status:o.status},null,8,["status"])):j("",!0),"action"===e.dataIndex?(r(),d(F,{key:4,"form-id":o.key},null,8,["form-id"])):j("",!0)])),_:1},8,["row-selection","data-source","pagination","loading"])],64)}}}))}}}));
