import{d as $,o as l,k as c,l as a,by as O,u as o,b as P,c as U,M as r,bB as x,L as p,g as f,K as S,f as W,N as A,h as H}from"../../../../../../../../../common/LoadingOutlined.BFkAxzyV.js";import{_ as L}from"../../../../../../../../../common/ColumnHeadingText.vue_vue_type_script_setup_true_lang.B5lYugli.js";import{c as n,h as T,J as B,K as I,v as R,p as V,i as F}from"../../../../../../../../../common/index.Ith4SzXf.js";import{D as J}from"../../../../../../../../../common/vuedraggable.umd.kDerP-51.js";import{P as K}from"../../../../../../../../../common/index.B2U_dx8i.js";import{I as N}from"../../../../../../../../../common/index.lxr2aJRu.js";import{B as E}from"../../../../../../../../../common/index.Bdw1ik1L.js";import{S as q}from"../../../../../../../../../common/index.C08f97vy.js";import{D as j}from"../../../../../../../../../common/DragOutlined.DArnxku8.js";import{D as z}from"../../../../../../../../../common/DeleteOutlined.DS1yXUts.js";import{_ as G}from"../../../../../../../../../common/_plugin-vue_export-helper.DlAUqK2U.js";import{_ as Q}from"../../../../../../../../../common/HiddenFormInput.vue_vue_type_script_setup_true_lang.CzayNTE-.js";import{T as X}from"../../../../../../../../../common/index.BuOrcqbC.js";import"../../../../../../../../../common/index.K13Y4VJm.js";import"../../../../../../../../../common/ExclamationCircleFilled.CrW3q_TN.js";import"../../../../../../../../../common/motion.WGHlFb5s.js";import"../../../../../../../../../common/raf.Deuc0E8-.js";import"../../../../../../../../../common/vnode.BC_D2aP8.js";import"../../../../../../../../../common/isVisible.BHYmLg1T.js";import"../../../../../../../../../common/ResizeObserver.es.B1PUzC5B.js";import"../../../../../../../../../common/_getTag.CiIQqq4n.js";import"../../../../../../../../../common/PortalWrapper.BCGj8rtm.js";import"../../../../../../../../../common/isPlainObject.DIpfZ0jz.js";import"../../../../../../../../../common/Col.C48UZKBg.js";import"../../../../../../../../../common/responsiveObserve.BxgVt-aQ.js";import"../../../../../../../../../common/useFlexGapSupport.BqBlA3Mn.js";import"../../../../../../../../../common/styleChecker.BhhSW-4N.js";import"../../../../../../../../../common/warning.CrM1WiW4.js";import"../../../../../../../../../common/debounce.C88Ko_T_.js";import"../../../../../../../../../common/_arrayIncludes.B8uzE354.js";import"../../../../../../../../../common/index.BVxneXNm.js";import"../../../../../../../../../common/firstNotUndefined.CLFzEa0p.js";import"../../../../../../../../../common/colors.Do-YmLJ0.js";import"../../../../../../../../../common/initDefaultProps.0LfrQis0.js";import"../../../../../../../../../common/QuestionCircleOutlined.DbypaJli.js";import"../../../../../../../../../common/collapseMotion.CnwYBKtm.js";import"../../../../../../../../../common/FormItemContext.CuFDkfIX.js";import"../../../../../../../../../common/createContext.DiHI9yzd.js";import"../../../../../../../../../common/_commonjsHelpers.BosuxZz1.js";import"../../../../../../../../../common/omit.DTkbSo29.js";import"../../../../../../../../../common/statusUtils.DES_qYlM.js";import"../../../../../../../../../common/BaseInput.C6Ke7hb1.js";import"../../../../../../../../../common/Compact.bO-KmQeW.js";import"../../../../../../../../../common/index.CUGsZk5V.js";import"../../../../../../../../../common/compact-item.Be3L5ggo.js";import"../../../../../../../../../common/SearchOutlined.K2PZqdQC.js";import"../../../../../../../../../common/index.DjkvlaSA.js";import"../../../../../../../../../common/useState.L1hofs5h.js";import"../../../../../../../../../common/devWarning.BVoSASTV.js";import"../../../../../../../../../common/eagerComputed.Bhszqfqe.js";import"../../../../../../../../../common/pickAttrs.GzdKbNmm.js";import"../../../../../../../../../common/index.CjASPO7n.js";import"../../../../../../../../../common/index.D28aorQO.js";import"../../../../../../../../../common/LeftOutlined.Hqnl-2Tc.js";import"../../../../../../../../../common/RightOutlined.TiLRDrc6.js";import"../../../../../../../../../common/index.BGHkQlAe.js";import"../../../../../../../../../common/KeyCode.B_gOgbN6.js";import"../../../../../../../../../common/slide.DZmo5x4X.js";import"../../../../../../../../../common/isMobile.BbN7I0i_.js";import"../../../../../../../../../common/useMergedState.DXdtLiCT.js";import"../../../../../../../../../common/DownOutlined.Bgw7W-Qg.js";import"../../../../../../../../../common/move.iWCDh3n7.js";import"../../../../../../../../../common/useBreakpoint.S--6DhMF.js";import"../../../../../../../../../common/index.FTpNJ4uu.js";import"../../../../../../../../../common/index.BYshCuJZ.js";import"../../../../../../../../../common/index.RfEH1ihW.js";import"../../../../../../../../../common/Checkbox.CYa6__iO.js";import"../../../../../../../../../common/dropdown.CDjBCMOf.js";import"../../../../../../../../../common/index.0mGPX0wK.js";import"../../../../../../../../../common/injectionKey.DGYNie3Z.js";import"../../../../../../../../../common/index.gaSFaOg8.js";import"../../../../../../../../../common/CaretUpOutlined.BBnMPvd9.js";const M=$({__name:"DoubleClickToEdit",setup(D){return(i,s)=>(l(),c(o(K),{content:o(n)("doubleClickToEdit",o(wp.i18n.__)("Double click to edit.","woocommerce-wholesale-order-form")),trigger:"hover"},{default:a(()=>[O(i.$slots,"default")]),_:3},8,["content"]))}}),Y=["onDblclick"],Z=["title"],oo={class:"wwof-tw-text-gray-400"},to=["onDblclick"],eo={class:"wwof-tw-text-red-500"},ro={class:"wwof-tw-text-red-500"},ao=["title"],no={class:"wwof-tw-text-gray-400"},io={class:"meta-action"},so=$({__name:"TableRowDraggableWrapper",setup(D){const i=T(),{productMetaName:s}=B(I.OPTIONS,"productMeta",[]),u=P({}),_=P(null),y=n("enterMetaName",wp.i18n.__("Enter meta name","woocommerce-wholesale-order-form")),h=n("enterMetaKey",wp.i18n.__("Enter meta key","woocommerce-wholesale-order-form")),w=U(()=>window.lodash.get(i.formPost,s)),b=(m,d,t)=>{var g;u.value={[m.id]:d};const e=(g=t.target)==null?void 0:g.closest("td");setTimeout(()=>{let v;v=e==null?void 0:e.querySelector("#input-".concat(m.id,"-").concat(d)),v==null||v.focus()},200)},k=(m,d)=>{if(d==="key"&&m.key!=null&&m.key!==""&&/^_/.test(m.key)){_.value=n("productMetaWarning",wp.i18n.__("Meta key with underscore prefix are private hence, this will not work.","woocommerce-wholesale-order-form"));return}_.value=null,u.value={}},C=m=>{const d=window.lodash.get(i.formPost,s),t=d.findIndex(g=>g.id===m.id),e=R(d,{$splice:[[t,1]]});window.lodash.set(i.formPost,s,e)};return(m,d)=>(l(),c(o(J),{"item-key":"id","ghost-class":"ghost",tag:"tbody",list:w.value,handle:".sort-handle"},{item:a(({element:t})=>[r("tr",null,[r("td",{class:"meta-name",onDblclick:e=>b(t,"name",e)},[u.value[t.id]==="name"?(l(),c(o(N),{key:0,id:"input-".concat(t.id,"-name"),value:t.name,"onUpdate:value":e=>t.name=e,placeholder:o(y),onBlur:e=>k(t,"name"),onKeydown:x(e=>k(t,"name"),["enter"])},null,8,["id","value","onUpdate:value","placeholder","onBlur","onKeydown"])):t.name?(l(),c(M,{key:1},{default:a(()=>[r("span",{title:t.name},p(t.name),9,Z)]),_:2},1024)):(l(),c(M,{key:2},{default:a(()=>[r("em",oo,p(o(y)),1)]),_:1}))],40,Y),r("td",{class:"meta-key",onDblclick:e=>b(t,"key",e)},[u.value[t.id]==="key"?(l(),c(o(K),{key:0,open:_.value!=null},{title:a(()=>[r("span",eo,p(o(n)("error",o(wp.i18n.__)("Error","woocommerce-wholesale-order-form"))),1)]),content:a(()=>[r("span",ro,p(_.value),1)]),default:a(()=>[f(o(N),{id:"input-".concat(t.id,"-key"),value:t.key,"onUpdate:value":e=>t.key=e,placeholder:o(h),onBlur:e=>k(t,"key"),onKeydown:x(e=>k(t,"key"),["enter"])},null,8,["id","value","onUpdate:value","placeholder","onBlur","onKeydown"])]),_:2},1032,["open"])):_.value==null&&t.key?(l(),c(M,{key:1},{default:a(()=>[r("span",{title:t.key},p(t.key),9,ao)]),_:2},1024)):(l(),c(M,{key:2},{default:a(()=>[r("em",no,p(o(h)),1)]),_:1}))],40,to),r("td",io,[u.value[t.id]!=null?(l(),c(o(E),{key:0,type:"link"},{default:a(()=>[S(p(o(n)("done",o(wp.i18n.__)("Done"))),1)]),_:1})):(l(),c(o(q),{key:1},{default:a(()=>[f(o(j),{class:"sort-handle"}),f(o(z),{class:"delete-meta",onClick:e=>C(t)},null,8,["onClick"])]),_:2},1024))])])]),_:1},8,["list"]))}}),lo=G(so,[["__scopeId","data-v-3733fa27"]]),co={class:"product-meta-control"},mo=["innerHTML"],Tt=$({__name:"ProductMetaOptions",setup(D){const i=T(),{productMetaName:s}=B(I.OPTIONS,"productMeta",[]),u=()=>{const w=window.lodash.get(i.formPost,s);w.push({id:"meta-".concat(F()),key:"",name:""}),window.lodash.set(i.formPost,s,w)},_=wp.i18n.sprintf(n("productMetaNote",wp.i18n.__("Note: Meta key with underscore prefix (%1$s_%2$s) are private hence they will not be displayed.","woocommerce-wholesale-order-form")),"<code>","</code>"),y=[{title:n("name",wp.i18n.__("Name")),dataIndex:"name",key:"name",class:"name"},{title:n("key",wp.i18n.__("Key")),dataIndex:"key",key:"key",class:"key"},{title:n("action",wp.i18n.__("Action")),dataIndex:"action",key:"action",class:"action"}],h=w=>H(lo,{...w,metas:window.lodash.get(i.formPost,s)});return(w,b)=>(l(),W(A,null,[f(L,{"default-column-name":o(n)("productMeta",o(wp.i18n.__)("Product Meta","woocommerce-wholesale-order-form"))},null,8,["default-column-name"]),r("div",co,[r("label",null,p(o(n)("productMeta",o(wp.i18n.__)("Product Meta","woocommerce-wholesale-order-form"))),1),r("p",null,[r("em",{class:"product-meta-note",innerHTML:o(V)(o(_))},null,8,mo)]),f(Q,{name:o(s),value:JSON.stringify(o(window.lodash.get)(o(i).formPost,o(s)))},null,8,["name","value"])]),f(o(X),{class:"product-meta-table","data-source":o(window.lodash.get)(o(i).formPost,o(s)),columns:y,components:{body:{wrapper:h}},pagination:!1},{footer:a(()=>[f(o(E),{type:"primary",onClick:u},{default:a(()=>[S(p(o(n)("add",o(wp.i18n.__)("Add","woocommerce-wholesale-order-form"))),1)]),_:1})]),_:1},8,["data-source","components"])],64))}});export{Tt as default};
