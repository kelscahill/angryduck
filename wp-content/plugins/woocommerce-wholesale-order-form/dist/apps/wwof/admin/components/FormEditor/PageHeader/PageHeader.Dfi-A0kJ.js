import{d as F,i as I,G as E,b as N,o as l,k as _,l as s,g as a,u as o,K as y,L as d,J as f,f as h,N as x,M as b,h as P}from"../../../../../../common/LoadingOutlined.BFkAxzyV.js";import{c as S}from"../../../../../../common/Modal.CpVgfy99.js";import{C as $,c as O}from"../../../../../../common/index.D0XQRXoo.js";import{h as j,c as e,j as C,k as V,E as G,B as H}from"../../../../../../common/index.Ith4SzXf.js";import{_ as M}from"../../../../../../common/LoadingSpinner.vue_vue_type_script_setup_true_lang.BM77UlPO.js";import{S as U}from"../../../../../../common/index.C08f97vy.js";import{B as v}from"../../../../../../common/index.Bdw1ik1L.js";import{I as A}from"../../../../../../common/index.lxr2aJRu.js";import{P as L}from"../../../../../../common/index.B7suDPBj.js";import{T as z}from"../../../../../../common/index.BVxneXNm.js";import{_ as J}from"../../../../../../common/_plugin-vue_export-helper.DlAUqK2U.js";import"../../../../../../common/index.Dui4U8Hg.js";import"../../../../../../common/KeyCode.B_gOgbN6.js";import"../../../../../../common/omit.DTkbSo29.js";import"../../../../../../common/pickAttrs.GzdKbNmm.js";import"../../../../../../common/initDefaultProps.0LfrQis0.js";import"../../../../../../common/ExclamationCircleFilled.CrW3q_TN.js";import"../../../../../../common/PortalWrapper.BCGj8rtm.js";import"../../../../../../common/raf.Deuc0E8-.js";import"../../../../../../common/motion.WGHlFb5s.js";import"../../../../../../common/vnode.BC_D2aP8.js";import"../../../../../../common/isVisible.BHYmLg1T.js";import"../../../../../../common/ResizeObserver.es.B1PUzC5B.js";import"../../../../../../common/_getTag.CiIQqq4n.js";import"../../../../../../common/styleChecker.BhhSW-4N.js";import"../../../../../../common/ActionButton.CECSKzhY.js";import"../../../../../../common/useDestroyed.puOwgd-l.js";import"../../../../../../common/_commonjsHelpers.BosuxZz1.js";import"../../../../../../common/index.CjASPO7n.js";import"../../../../../../common/useFlexGapSupport.BqBlA3Mn.js";import"../../../../../../common/Compact.bO-KmQeW.js";import"../../../../../../common/createContext.DiHI9yzd.js";import"../../../../../../common/index.DjkvlaSA.js";import"../../../../../../common/useState.L1hofs5h.js";import"../../../../../../common/devWarning.BVoSASTV.js";import"../../../../../../common/warning.CrM1WiW4.js";import"../../../../../../common/compact-item.Be3L5ggo.js";import"../../../../../../common/FormItemContext.CuFDkfIX.js";import"../../../../../../common/statusUtils.DES_qYlM.js";import"../../../../../../common/BaseInput.C6Ke7hb1.js";import"../../../../../../common/index.CUGsZk5V.js";import"../../../../../../common/SearchOutlined.K2PZqdQC.js";import"../../../../../../common/isPlainObject.DIpfZ0jz.js";import"../../../../../../common/dropdown.CDjBCMOf.js";import"../../../../../../common/index.0mGPX0wK.js";import"../../../../../../common/_arrayIncludes.B8uzE354.js";import"../../../../../../common/injectionKey.DGYNie3Z.js";import"../../../../../../common/slide.DZmo5x4X.js";import"../../../../../../common/collapseMotion.CnwYBKtm.js";import"../../../../../../common/RightOutlined.TiLRDrc6.js";import"../../../../../../common/move.iWCDh3n7.js";import"../../../../../../common/DownOutlined.Bgw7W-Qg.js";import"../../../../../../common/useBreakpoint.S--6DhMF.js";import"../../../../../../common/responsiveObserve.BxgVt-aQ.js";import"../../../../../../common/eagerComputed.Bhszqfqe.js";import"../../../../../../common/index.B2U_dx8i.js";import"../../../../../../common/colors.Do-YmLJ0.js";import"../../../../../../common/firstNotUndefined.CLFzEa0p.js";const K=F({__name:"PageHeader",setup(R){const n=I("$window"),c=j(),{saveFormStatus:m,formPost:r}=E(c),{emit:k}=V("wwofSaveForm"),u=r.value.ID!=="new"?'[wwof_product_listing id="'.concat(r.value.ID,'"]'):"";let w=N(e("copy",wp.i18n.__("Copy")));const D=()=>{u!==""&&(O(u),w.value=e("copied",wp.i18n.__("Copied!")))},T=()=>{w.value!==e("copy",wp.i18n.__("Copy"))&&setTimeout(()=>{w.value=e("copy",wp.i18n.__("Copy"))},500)},p=C.PENDING,B=()=>{S({title:e("deleteFormConfirm",wp.i18n.__("Are you sure you want to delete this form?","woocommerce-wholesale-order-form")),icon:P(G),centered:!0,onOk(){c.deleteForm([Number(r.value.ID)]).then(g=>{const{data:t}=g;(t==null?void 0:t.deleted)!=null&&(H.success({message:e("formDeleted",wp.i18n.__("Form successfully deleted.","woocommerce-wholesale-order-form")),description:wp.i18n.__("The form has been successfully deleted.","woocommerce-wholesale-order-form"),class:"wwof-success-notification",duration:2}),c.formPosts=t.formPosts,setTimeout(()=>{n.location.replace(n.wwofObj.adminBaseUrl)},1e3))})},okText:e("delete",wp.i18n.__("Delete")),cancelText:e("cancel",wp.i18n.__("Cancel"))})};return(g,t)=>(l(),_(o(L),{id:"form-editor-page-header",class:"form-editor-page-header wwof-tw-w-3/4 wwof-tw-px-0",title:o(e)("formEditor",o(wp.i18n.__)("Form Editor","woocommerce-wholesale-order-form")),onBack:t[2]||(t[2]=i=>o(n).location.replace(o(n).wwofObj.adminBaseUrl))},{subTitle:s(()=>[a(o(U),null,{default:s(()=>[(o(r).ID==="new"||o(r).post_status==="draft")&&o(m)!==o(C).PENDING?(l(),_(o(v),{key:0,disabled:o(m)===o(p),class:"wwof-tw-bg-gray-100 wwof-tw-text-sky-700 wwof-tw-border-sky-700 wwof-tw-font-bold","html-type":"submit",onClick:t[0]||(t[0]=i=>o(k)("draft",i))},{default:s(()=>[y(d(o(e)("saveDraft",o(wp.i18n.__)("Save Draft","woocommerce-wholesale-order-form"))),1)]),_:1},8,["disabled"])):f("",!0),a(o(v),{class:"wwof-tw-bg-gray-100 wwof-tw-text-sky-700 wwof-tw-border-sky-700 wwof-tw-font-bold",disabled:o(m)===o(p),"html-type":"submit",onClick:t[1]||(t[1]=i=>o(k)("publish",i))},{default:s(()=>{var i;return[o(m)===o(p)?(l(),h(x,{key:0},[b("em",null,d(o(e)("saving",o(wp.i18n.__)("Saving...","woocommerce-wholesale-order-form"))),1),a(M)],64)):f("",!0),o(m)!==o(p)?(l(),h(x,{key:1},[y(d(((i=o(r))==null?void 0:i.post_status)==="publish"?o(e)("update",o(wp.i18n.__)("Update")):o(e)("publish",o(wp.i18n.__)("Publish"))),1)],64)):f("",!0)]}),_:1},8,["disabled"]),o(r)!=null&&o(r).ID!=="new"&&o(m)!==o(p)?(l(),_(o(v),{key:1,type:"link",class:"wwof-tw-text-red-400 hover:wwof-tw-text-red-600",onClick:B},{default:s(()=>[y(d(o(e)("deleteForm",o(wp.i18n.__)("Delete Form","woocommerce-wholesale-order-form"))),1)]),_:1})):f("",!0)]),_:1}),t[3]||(t[3]=b("span",{class:"wwof-tw-grow"},null,-1)),a(o(A),{class:"order-form-field textbox shortcode wwof-tw-w-80",size:"large",value:o(u)},{addonAfter:s(()=>[a(o(z),{title:o(w)},{default:s(()=>[b("div",{class:"wwof-tw-cursor-pointer wwof-tw-h-[34px]",onMouseleave:T,onClick:D},[a(o($))],32)]),_:1},8,["title"])]),_:1},8,["value"])]),_:1},8,["title"]))}}),Zo=J(K,[["__scopeId","data-v-41014250"]]);export{Zo as default};
