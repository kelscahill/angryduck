System.register(["./LoadingOutlined-legacy.CPhLaklC.js","./index-legacy.BXaB4RSa.js","./index-legacy.C2N-kX16.js"],(function(e,t){"use strict";var u,o,r,n,a,d,i,l,c,s,v,p,m,y,w,f,k,g,_,b;return{setters:[e=>{u=e.d,o=e.G,r=e.c,n=e.b,a=e.o,d=e.f,i=e.N,l=e.K,c=e.L,s=e.k,v=e.u},e=>{p=e.a4,m=e.u,y=e.k,w=e._,f=e.c,k=e.X,g=e.a5,_=e.b},e=>{b=e.I}],execute:function(){const t=["id"];e("_",u({__name:"QuantityInput",props:{product:{},columnId:{default:()=>{var e;return null===(e=p("quantity-input"))||void 0===e?void 0:e.id}}},setup(e){const u=m(),{quantities:p}=o(u),{emit:O}=y(`wwofCurrentProductQuantity${e.product.id}`),{on:S}=y(`wwofSelectedVariation${e.product.id}`),h=r((()=>{var t;return null!==(t=w(e.columnId,"outOfStockText"))&&void 0!==t?t:f("outOfStock",wp.i18n.__("Out of stock","woocommerce-wholesale-order-form"))})),x=n(k(e.product).value),A=r((()=>{const{minOrderQty:e}=g(x.value);return e}));S((t=>{var u;t&&(x.value=t,null!==(u=e.product)&&void 0!==u&&u.parent_id||(p.value[e.product.id]=Number(g(t).minOrderQty)))}));const Q=r((()=>{const{orderQtyStep:e}=g(x.value);return e})),q=e=>{e.key.match(/[^0-9]/)&&!["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Tab","Enter"].includes(e.key)&&e.preventDefault()},I=t=>{Q.value%t!=0&&(t=Math.round(t/Q.value)*Q.value),p.value[e.product.id]=Number(t),p.value[x.value.id]=Number(t),O(t)};return(e,u)=>{var o,r;return a(),d("div",{id:`quantity-${e.product.id}`,class:"quantity-box"},["outofstock"===e.product.stock_status?(a(),d(i,{key:0},[l(c(h.value),1)],64)):(a(),s(v(b),{key:1,value:null===(o=v(p))||void 0===o?void 0:o[e.product.id],size:"large",min:"yes"===(null===(r=v(_)())||void 0===r||null===(r=r.wwppSettings)||void 0===r?void 0:r.allowAddToCartBelowProductMinimum)?1:A.value,step:Q.value,onKeydown:q,onChange:I},null,8,["value","min","step"]))],8,t)}}}))}}}));
