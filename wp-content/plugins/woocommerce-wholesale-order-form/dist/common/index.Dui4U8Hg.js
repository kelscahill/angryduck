import{aq as ye,P as h,d as O,z as i,b as X,c as k,g as a,E as $,a1 as be,a2 as xe,a3 as $e,n as Ae,s as T,w as q,C as Le,a0 as Re,D as U,b3 as De,x as Ee,y as We,V as je,an as Ve,bh as _e,af as le,A as Ge,ae as Ke,a4 as K,N as Xe,aw as se,aJ as Ue,ag as Qe,u as Ye,aV as ke}from"./LoadingOutlined.BFkAxzyV.js";import{K as ce}from"./KeyCode.B_gOgbN6.js";import{o as Se}from"./omit.DTkbSo29.js";import{p as qe}from"./pickAttrs.GzdKbNmm.js";import{i as Z}from"./initDefaultProps.0LfrQis0.js";import{g as he,u as Je,a as J,E as Ze,c as eo,C as oo}from"./ExclamationCircleFilled.CrW3q_TN.js";import{P as no}from"./PortalWrapper.BCGj8rtm.js";import{b as to,a as lo}from"./motion.WGHlFb5s.js";import{C as ao,I as io,F as ro,G as so,H as co}from"./index.Ith4SzXf.js";import{B as de,c as uo}from"./index.Bdw1ik1L.js";import{c as fo}from"./styleChecker.BhhSW-4N.js";import{i as mo}from"./index.BVxneXNm.js";import{A as ue}from"./ActionButton.CECSKzhY.js";import{t as po}from"./vnode.BC_D2aP8.js";const go=new ye("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Co=new ye("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),vo=function(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,t="".concat(n,"-fade"),l=o?"&":"";return[to(t,go,Co,e.motionDurationMid,o),{["\n        ".concat(l).concat(t,"-enter,\n        ").concat(l).concat(t,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(l).concat(t,"-leave")]:{animationTimingFunction:"linear"}}]};function ae(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:h.shape({x:Number,y:Number}).loose,title:h.any,footer:h.any,transitionName:String,maskTransitionName:String,animation:h.any,maskAnimation:h.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:h.any,maskProps:h.any,wrapProps:h.any,getContainer:h.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:h.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function fe(e,o,n){let t=o;return!t&&n&&(t="".concat(e,"-").concat(n)),t}let me=-1;function yo(){return me+=1,me}function pe(e,o){let n=e["page".concat(o?"Y":"X","Offset")];const t="scroll".concat(o?"Top":"Left");if(typeof n!="number"){const l=e.document;n=l.documentElement[t],typeof n!="number"&&(n=l.body[t])}return n}function bo(e){const o=e.getBoundingClientRect(),n={left:o.left,top:o.top},t=e.ownerDocument,l=t.defaultView||t.parentWindow;return n.left+=pe(l),n.top+=pe(l,!0),n}const xo={width:0,height:0,overflow:"hidden",outline:"none"},$o={outline:"none"},So=O({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:i(i({},ae()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(e,o){let{expose:n,slots:t,attrs:l}=o;const s=X(),p=X(),g=X();n({focus:()=>{var c;(c=s.value)===null||c===void 0||c.focus({preventScroll:!0})},changeActive:c=>{const{activeElement:r}=document;c&&r===p.value?s.value.focus({preventScroll:!0}):!c&&r===s.value&&p.value.focus({preventScroll:!0})}});const S=X(),m=k(()=>{const{width:c,height:r}=e,v={};return c!==void 0&&(v.width=typeof c=="number"?"".concat(c,"px"):c),r!==void 0&&(v.height=typeof r=="number"?"".concat(r,"px"):r),S.value&&(v.transformOrigin=S.value),v}),u=()=>{Ae(()=>{if(g.value){const c=bo(g.value);S.value=e.mousePosition?"".concat(e.mousePosition.x-c.left,"px ").concat(e.mousePosition.y-c.top,"px"):""}})},d=c=>{e.onVisibleChanged(c)};return()=>{var c,r,v,y;const{prefixCls:x,footer:f=(c=t.footer)===null||c===void 0?void 0:c.call(t),title:b=(r=t.title)===null||r===void 0?void 0:r.call(t),ariaId:C,closable:w,closeIcon:B=(v=t.closeIcon)===null||v===void 0?void 0:v.call(t),onClose:F,bodyStyle:I,bodyProps:M,onMousedown:H,onMouseup:A,visible:D,modalRender:E=t.modalRender,destroyOnClose:_,motionName:N}=e;let W;f&&(W=a("div",{class:"".concat(x,"-footer")},[f]));let j;b&&(j=a("div",{class:"".concat(x,"-header")},[a("div",{class:"".concat(x,"-title"),id:C},[b])]));let L;w&&(L=a("button",{type:"button",onClick:F,"aria-label":"Close",class:"".concat(x,"-close")},[B||a("span",{class:"".concat(x,"-close-x")},null)]));const z=a("div",{class:"".concat(x,"-content")},[L,j,a("div",$({class:"".concat(x,"-body"),style:I},M),[(y=t.default)===null||y===void 0?void 0:y.call(t)]),W]),ee=he(N);return a($e,$($({},ee),{},{onBeforeEnter:u,onAfterEnter:()=>d(!0),onAfterLeave:()=>d(!1)}),{default:()=>[D||!_?be(a("div",$($({},l),{},{ref:g,key:"dialog-element",role:"document",style:[m.value,l.style],class:[x,l.class],onMousedown:H,onMouseup:A}),[a("div",{tabindex:0,ref:s,style:$o},[E?E({originVNode:z}):z]),a("div",{tabindex:0,ref:p,style:xo},null)]),[[xe,D]]):null]})}}}),ho=O({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(e,o){return()=>{const{prefixCls:n,visible:t,maskProps:l,motionName:s}=e,p=he(s);return a($e,p,{default:()=>[be(a("div",$({class:"".concat(n,"-mask")},l),null),[[xe,t]])]})}}}),ge=O({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:Z(i(i({},ae()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(e,o){let{attrs:n,slots:t}=o;const l=T(),s=T(),p=T(),g=T(e.visible),S=T("vcDialogTitle".concat(yo())),m=f=>{var b,C;if(f)De(s.value,document.activeElement)||(l.value=document.activeElement,(b=p.value)===null||b===void 0||b.focus());else{const w=g.value;if(g.value=!1,e.mask&&l.value&&e.focusTriggerAfterClose){try{l.value.focus({preventScroll:!0})}catch(B){}l.value=null}w&&((C=e.afterClose)===null||C===void 0||C.call(e))}},u=f=>{var b;(b=e.onClose)===null||b===void 0||b.call(e,f)},d=T(!1),c=T(),r=()=>{clearTimeout(c.value),d.value=!0},v=()=>{c.value=setTimeout(()=>{d.value=!1})},y=f=>{if(!e.maskClosable)return null;d.value?d.value=!1:s.value===f.target&&u(f)},x=f=>{if(e.keyboard&&f.keyCode===ce.ESC){f.stopPropagation(),u(f);return}e.visible&&f.keyCode===ce.TAB&&p.value.changeActive(!f.shiftKey)};return q(()=>e.visible,()=>{e.visible&&(g.value=!0)},{flush:"post"}),Le(()=>{var f;clearTimeout(c.value),(f=e.scrollLocker)===null||f===void 0||f.unLock()}),Re(()=>{var f,b;(f=e.scrollLocker)===null||f===void 0||f.unLock(),g.value&&((b=e.scrollLocker)===null||b===void 0||b.lock())}),()=>{const{prefixCls:f,mask:b,visible:C,maskTransitionName:w,maskAnimation:B,zIndex:F,wrapClassName:I,rootClassName:M,wrapStyle:H,closable:A,maskProps:D,maskStyle:E,transitionName:_,animation:N,wrapProps:W,title:j=t.title}=e,{style:L,class:z}=n;return a("div",$({class:["".concat(f,"-root"),M]},qe(e,{data:!0})),[a(ho,{prefixCls:f,visible:b&&C,motionName:fe(f,w,B),style:i({zIndex:F},E),maskProps:D},null),a("div",$({tabIndex:-1,onKeydown:x,class:U("".concat(f,"-wrap"),I),ref:s,onClick:y,role:"dialog","aria-labelledby":j?S.value:null,style:i(i({zIndex:F},H),{display:g.value?null:"none"})},W),[a(So,$($({},Se(e,["scrollLocker"])),{},{style:L,class:z,onMousedown:r,onMouseup:v,ref:p,closable:A,ariaId:S.value,prefixCls:f,visible:C,onClose:u,onVisibleChanged:m,motionName:fe(f,_,N)}),t)])])}}}),wo=ae(),To=O({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:Z(wo,{visible:!1}),setup(e,o){let{attrs:n,slots:t}=o;const l=X(e.visible);return Je({},{inTriggerContext:!1}),q(()=>e.visible,()=>{e.visible&&(l.value=!0)},{flush:"post"}),()=>{const{visible:s,getContainer:p,forceRender:g,destroyOnClose:S=!1,afterClose:m}=e;let u=i(i(i({},e),n),{ref:"_component",key:"dialog"});return p===!1?a(ge,$($({},u),{},{getOpenCount:()=>2}),t):!g&&S&&!l.value?null:a(no,{autoLock:!0,visible:s,forceRender:g,getContainer:p},{default:d=>(u=i(i(i({},u),d),{afterClose:()=>{m==null||m(),l.value=!1}}),a(ge,u,t))})}}});function Ce(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const Bo=e=>{const{componentCls:o}=e;return[{["".concat(o,"-root")]:{["".concat(o).concat(e.antCls,"-zoom-enter, ").concat(o).concat(e.antCls,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},["".concat(o).concat(e.antCls,"-zoom-leave ").concat(o,"-content")]:{pointerEvents:"none"},["".concat(o,"-mask")]:i(i({},Ce("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,["".concat(o,"-hidden")]:{display:"none"}}),["".concat(o,"-wrap")]:i(i({},Ce("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(o,"-root")]:vo(e)}]},Po=e=>{const{componentCls:o}=e;return[{["".concat(o,"-root")]:{["".concat(o,"-wrap")]:{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},["".concat(o,"-wrap-rtl")]:{direction:"rtl"},["".concat(o,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[o]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(e.screenSMMax,")")]:{[o]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(e.marginXS," auto")},["".concat(o,"-centered")]:{[o]:{flex:1}}}}},{[o]:i(i({},je(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(e.margin*2,"px)"),margin:"0 auto",paddingBottom:e.paddingLG,["".concat(o,"-title")]:{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"},["".concat(o,"-content")]:{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadowSecondary,pointerEvents:"auto",padding:"".concat(e.paddingMD,"px ").concat(e.paddingContentHorizontalLG,"px")},["".concat(o,"-close")]:i({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(e.modalCloseBtnSize,"px"),textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},Ve(e)),["".concat(o,"-header")]:{color:e.colorText,background:e.modalHeaderBg,borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0"),marginBottom:e.marginXS},["".concat(o,"-body")]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},["".concat(o,"-footer")]:{textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn:not(").concat(e.antCls,"-dropdown-trigger)")]:{marginBottom:0,marginInlineStart:e.marginXS}},["".concat(o,"-open")]:{overflow:"hidden"}})},{["".concat(o,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(o,"-content,\n          ").concat(o,"-body,\n          ").concat(o,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(o,"-confirm-body")]:{marginBottom:"auto"}}}]},Fo=e=>{const{componentCls:o}=e,n="".concat(o,"-confirm");return{[n]:{"&-rtl":{direction:"rtl"},["".concat(e.antCls,"-modal-header")]:{display:"none"},["".concat(n,"-body-wrapper")]:i({},_e()),["".concat(n,"-body")]:{display:"flex",flexWrap:"wrap",alignItems:"center",["".concat(n,"-title")]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,["+ ".concat(n,"-content")]:{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:"calc(100% - ".concat(e.modalConfirmIconSize+e.marginSM,"px)")}},["".concat(n,"-content")]:{color:e.colorText,fontSize:e.fontSize},["> ".concat(e.iconCls)]:{flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize,["+ ".concat(n,"-title")]:{flex:1},["+ ".concat(n,"-title + ").concat(n,"-content")]:{marginInlineStart:e.modalConfirmIconSize+e.marginSM}}},["".concat(n,"-btns")]:{textAlign:"end",marginTop:e.marginSM,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginBottom:0,marginInlineStart:e.marginXS}}},["".concat(n,"-error ").concat(n,"-body > ").concat(e.iconCls)]:{color:e.colorError},["".concat(n,"-warning ").concat(n,"-body > ").concat(e.iconCls,",\n        ").concat(n,"-confirm ").concat(n,"-body > ").concat(e.iconCls)]:{color:e.colorWarning},["".concat(n,"-info ").concat(n,"-body > ").concat(e.iconCls)]:{color:e.colorInfo},["".concat(n,"-success ").concat(n,"-body > ").concat(e.iconCls)]:{color:e.colorSuccess},["".concat(o,"-zoom-leave ").concat(o,"-btns")]:{pointerEvents:"none"}}},Io=e=>{const{componentCls:o}=e;return{["".concat(o,"-root")]:{["".concat(o,"-wrap-rtl")]:{direction:"rtl",["".concat(o,"-confirm-body")]:{direction:"rtl"}}}}},zo=e=>{const{componentCls:o,antCls:n}=e,t="".concat(o,"-confirm");return{[o]:{["".concat(o,"-content")]:{padding:0},["".concat(o,"-header")]:{padding:e.modalHeaderPadding,borderBottom:"".concat(e.modalHeaderBorderWidth,"px ").concat(e.modalHeaderBorderStyle," ").concat(e.modalHeaderBorderColorSplit),marginBottom:0},["".concat(o,"-body")]:{padding:e.modalBodyPadding},["".concat(o,"-footer")]:{padding:"".concat(e.modalFooterPaddingVertical,"px ").concat(e.modalFooterPaddingHorizontal,"px"),borderTop:"".concat(e.modalFooterBorderWidth,"px ").concat(e.modalFooterBorderStyle," ").concat(e.modalFooterBorderColorSplit),borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px"),marginTop:0}},[t]:{["".concat(n,"-modal-body")]:{padding:"".concat(e.padding*2,"px ").concat(e.padding*2,"px ").concat(e.paddingLG,"px")},["".concat(t,"-body")]:{["> ".concat(e.iconCls)]:{marginInlineEnd:e.margin,["+ ".concat(t,"-title + ").concat(t,"-content")]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},["".concat(t,"-btns")]:{marginTop:e.marginLG}}}},Mo=Ee("Modal",e=>{const o=e.padding,n=e.fontSizeHeading5,t=e.lineHeightHeading5,l=We(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:"".concat(o,"px ").concat(e.paddingLG,"px"),modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:t,modalHeaderTitleFontSize:n,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:t*n+o*2,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:e.controlHeightLG*.55});return[Po(l),Fo(l),Io(l),Bo(l),e.wireframe&&zo(l),mo(l,"zoom")]});var Ho=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};let te;const No=e=>{te={x:e.pageX,y:e.pageY},setTimeout(()=>te=null,100)};fo()&&lo(document.documentElement,"click",No,!0);const Oo=()=>({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:h.any,closable:{type:Boolean,default:void 0},closeIcon:h.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:h.any,okText:h.any,okType:String,cancelText:h.any,icon:h.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:K(),cancelButtonProps:K(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:K(),maskStyle:K(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:K()}),P=O({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:Z(Oo(),{width:520,confirmLoading:!1,okType:"primary"}),setup(e,o){let{emit:n,slots:t,attrs:l}=o;const[s]=le("Modal"),{prefixCls:p,rootPrefixCls:g,direction:S,getPopupContainer:m}=Ge("modal",e),[u,d]=Mo(p);Ke(e.visible===void 0);const c=y=>{n("update:visible",!1),n("update:open",!1),n("cancel",y),n("change",!1)},r=y=>{n("ok",y)},v=()=>{var y,x;const{okText:f=(y=t.okText)===null||y===void 0?void 0:y.call(t),okType:b,cancelText:C=(x=t.cancelText)===null||x===void 0?void 0:x.call(t),confirmLoading:w}=e;return a(Xe,null,[a(de,$({onClick:c},e.cancelButtonProps),{default:()=>[C||s.value.cancelText]}),a(de,$($({},uo(b)),{},{loading:w,onClick:r},e.okButtonProps),{default:()=>[f||s.value.okText]})])};return()=>{var y,x;const{prefixCls:f,visible:b,open:C,wrapClassName:w,centered:B,getContainer:F,closeIcon:I=(y=t.closeIcon)===null||y===void 0?void 0:y.call(t),focusTriggerAfterClose:M=!0}=e,H=Ho(e,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),A=U(w,{["".concat(p.value,"-centered")]:!!B,["".concat(p.value,"-wrap-rtl")]:S.value==="rtl"});return u(a(To,$($($({},H),l),{},{rootClassName:d.value,class:U(d.value,l.class),getContainer:F||(m==null?void 0:m.value),prefixCls:p.value,wrapClassName:A,visible:C!=null?C:b,onClose:c,focusTriggerAfterClose:M,transitionName:J(g.value,"zoom",e.transitionName),maskTransitionName:J(g.value,"fade",e.maskTransitionName),mousePosition:(x=H.mousePosition)!==null&&x!==void 0?x:te}),i(i({},t),{footer:t.footer||v,closeIcon:()=>a("span",{class:"".concat(p.value,"-close-x")},[I||a(ao,{class:"".concat(p.value,"-close-icon")},null)])})))}}});function V(e){return typeof e=="function"?e():e}const we=O({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,o){let{attrs:n}=o;const[t]=le("Modal");return()=>{const{icon:l,onCancel:s,onOk:p,close:g,okText:S,closable:m=!1,zIndex:u,afterClose:d,keyboard:c,centered:r,getContainer:v,maskStyle:y,okButtonProps:x,cancelButtonProps:f,okCancel:b,width:C=416,mask:w=!0,maskClosable:B=!1,type:F,open:I,title:M,content:H,direction:A,closeIcon:D,modalRender:E,focusTriggerAfterClose:_,rootPrefixCls:N,bodyStyle:W,wrapClassName:j,footer:L}=e;let z=l;if(!l&&l!==null)switch(F){case"info":z=a(io,null,null);break;case"success":z=a(oo,null,null);break;case"error":z=a(eo,null,null);break;default:z=a(Ze,null,null)}const ee=e.okType||"primary",oe=e.prefixCls||"ant-modal",G="".concat(oe,"-confirm"),Me=n.style||{},ie=b!=null?b:F==="confirm",re=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",Y="".concat(oe,"-confirm"),He=U(Y,"".concat(Y,"-").concat(e.type),{["".concat(Y,"-rtl")]:A==="rtl"},n.class),ne=t.value,Ne=ie&&a(ue,{actionFn:s,close:g,autofocus:re==="cancel",buttonProps:f,prefixCls:"".concat(N,"-btn")},{default:()=>[V(e.cancelText)||ne.cancelText]});return a(P,{prefixCls:oe,class:He,wrapClassName:U({["".concat(Y,"-centered")]:!!r},j),onCancel:Oe=>g==null?void 0:g({triggerCancel:!0},Oe),open:I,title:"",footer:"",transitionName:J(N,"zoom",e.transitionName),maskTransitionName:J(N,"fade",e.maskTransitionName),mask:w,maskClosable:B,maskStyle:y,style:Me,bodyStyle:W,width:C,zIndex:u,afterClose:d,keyboard:c,centered:r,getContainer:v,closable:m,closeIcon:D,modalRender:E,focusTriggerAfterClose:_},{default:()=>[a("div",{class:"".concat(G,"-body-wrapper")},[a("div",{class:"".concat(G,"-body")},[V(z),M===void 0?null:a("span",{class:"".concat(G,"-title")},[V(M)]),a("div",{class:"".concat(G,"-content")},[V(H)])]),L!==void 0?V(L):a("div",{class:"".concat(G,"-btns")},[Ne,a(ue,{type:ee,actionFn:p,close:g,autofocus:re==="ok",buttonProps:x,prefixCls:"".concat(N,"-btn")},{default:()=>[V(S)||(ie?ne.okText:ne.justOkText)]})])])]})}}}),R=[],Q=e=>{const o=document.createDocumentFragment();let n=i(i({},Se(e,["parentContext","appContext"])),{close:s,open:!0}),t=null;function l(){t&&(se(null,o),t=null);for(var m=arguments.length,u=new Array(m),d=0;d<m;d++)u[d]=arguments[d];const c=u.some(r=>r&&r.triggerCancel);e.onCancel&&c&&e.onCancel(()=>{},...u.slice(1));for(let r=0;r<R.length;r++)if(R[r]===s){R.splice(r,1);break}}function s(){for(var m=arguments.length,u=new Array(m),d=0;d<m;d++)u[d]=arguments[d];n=i(i({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),l.apply(this,u)}}),n.visible&&delete n.visible,p(n)}function p(m){typeof m=="function"?n=m(n):n=i(i({},n),m),t&&po(t,n,o)}const g=m=>{const u=so,d=u.prefixCls,c=m.prefixCls||"".concat(d,"-modal"),r=u.iconPrefixCls,v=co();return a(ro,$($({},u),{},{prefixCls:d}),{default:()=>[a(we,$($({},m),{},{rootPrefixCls:d,prefixCls:c,iconPrefixCls:r,locale:v,cancelText:m.cancelText||v.cancelText}),null)]})};function S(m){const u=a(g,i({},m));return u.appContext=e.parentContext||e.appContext||u.appContext,se(u,o),u}return t=S(n),R.push(s),{destroy:s,update:p}};function Te(e){return i(i({},e),{type:"warning"})}function Be(e){return i(i({},e),{type:"info"})}function Pe(e){return i(i({},e),{type:"success"})}function Fe(e){return i(i({},e),{type:"error"})}function Ie(e){return i(i({},e),{type:"confirm"})}const Ao=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),Lo=O({name:"HookModal",inheritAttrs:!1,props:Z(Ao(),{config:{width:520,okType:"primary"}}),setup(e,o){let{expose:n}=o;var t;const l=k(()=>e.open),s=k(()=>e.config),{direction:p,getPrefixCls:g}=Ue(),S=g("modal"),m=g(),u=()=>{var v,y;e==null||e.afterClose(),(y=(v=s.value).afterClose)===null||y===void 0||y.call(v)},d=function(){e.destroyAction(...arguments)};n({destroy:d});const c=(t=s.value.okCancel)!==null&&t!==void 0?t:s.value.type==="confirm",[r]=le("Modal",Qe.Modal);return()=>a(we,$($({prefixCls:S,rootPrefixCls:m},s.value),{},{close:d,open:l.value,afterClose:u,okText:s.value.okText||(c?r==null?void 0:r.value.okText:r==null?void 0:r.value.justOkText),direction:s.value.direction||p.value,cancelText:s.value.cancelText||(r==null?void 0:r.value.cancelText)}),null)}});let ve=0;const Ro=O({name:"ElementsHolder",inheritAttrs:!1,setup(e,o){let{expose:n}=o;const t=T([]);return n({addModal:s=>(t.value.push(s),t.value=t.value.slice(),()=>{t.value=t.value.filter(p=>p!==s)})}),()=>t.value.map(s=>s())}});function Do(){const e=T(null),o=T([]);q(o,()=>{o.value.length&&([...o.value].forEach(p=>{p()}),o.value=[])},{immediate:!0});const n=s=>function(g){var S;ve+=1;const m=T(!0),u=T(null),d=T(Ye(g)),c=T({});q(()=>g,C=>{x(i(i({},ke(C)?C.value:C),c.value))});const r=function(){m.value=!1;for(var C=arguments.length,w=new Array(C),B=0;B<C;B++)w[B]=arguments[B];const F=w.some(I=>I&&I.triggerCancel);d.value.onCancel&&F&&d.value.onCancel(()=>{},...w.slice(1))};let v;const y=()=>a(Lo,{key:"modal-".concat(ve),config:s(d.value),ref:u,open:m.value,destroyAction:r,afterClose:()=>{v==null||v()}},null);v=(S=e.value)===null||S===void 0?void 0:S.addModal(y),v&&R.push(v);const x=C=>{d.value=i(i({},d.value),C)};return{destroy:()=>{u.value?r():o.value=[...o.value,r]},update:C=>{c.value=C,u.value?x(C):o.value=[...o.value,()=>x(C)]}}},t=k(()=>({info:n(Be),success:n(Pe),error:n(Fe),warning:n(Te),confirm:n(Ie)})),l=Symbol("modalHolderKey");return[t.value,()=>a(Ro,{key:l,ref:e},null)]}function ze(e){return Q(Te(e))}P.useModal=Do;P.info=function(o){return Q(Be(o))};P.success=function(o){return Q(Pe(o))};P.error=function(o){return Q(Fe(o))};P.warning=ze;P.warn=ze;P.confirm=function(o){return Q(Ie(o))};P.destroyAll=function(){for(;R.length;){const o=R.pop();o&&o()}};P.install=function(e){return e.component(P.name,P),e};export{To as D,P as M,ae as d,Bo as g,vo as i};
