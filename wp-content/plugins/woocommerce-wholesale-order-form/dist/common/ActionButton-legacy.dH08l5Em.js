System.register(["./LoadingOutlined-legacy.CPhLaklC.js","./index-legacy.BwKQFx3_.js","./useDestroyed-legacy.BiFlxpW3.js"],(function(e,t){"use strict";var n,o,u,l,i,r,s,a,c,v,f;return{setters:[e=>{n=e.d,o=e.s,u=e.B,l=e.b6,i=e.C,r=e.g,s=e.E,a=e.a4},e=>{c=e.c,v=e.B},e=>{f=e.u}],execute:function(){const t={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:a(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function d(e){return!(!e||!e.then)}e("A",n({compatConfig:{MODE:3},name:"ActionButton",props:t,setup(e,t){let{slots:n}=t;const a=o(!1),g=o(),p=o(!1);let y;const m=f();u((()=>{e.autofocus&&(y=setTimeout((()=>{var e,t;return null===(t=null===(e=l(g.value))||void 0===e?void 0:e.focus)||void 0===t?void 0:t.call(e)})))})),i((()=>{clearTimeout(y)}));const h=function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];null===(t=e.close)||void 0===t||t.call(e,...o)},B=t=>{const{actionFn:n}=e;if(a.value)return;if(a.value=!0,!n)return void h();let o;if(e.emitEvent){if(o=n(t),e.quitOnNullishReturnValue&&!d(o))return a.value=!1,void h(t)}else if(n.length)o=n(e.close),a.value=!1;else if(o=n(),!o)return void h();(e=>{d(e)&&(p.value=!0,e.then((function(){m.value||(p.value=!1),h(...arguments),a.value=!1}),(e=>(m.value||(p.value=!1),a.value=!1,Promise.reject(e)))))})(o)};return()=>{const{type:t,prefixCls:o,buttonProps:u}=e;return r(v,s(s(s({},c(t)),{},{onClick:B,loading:p.value,prefixCls:o},u),{},{ref:g}),n)}}}))}}}));
