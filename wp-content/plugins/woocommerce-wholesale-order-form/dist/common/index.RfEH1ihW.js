import{z as b,R as m,a5 as F,T as S,P as ne,U as te,d as H,A as X,bf as le,i as ue,c as y,a0 as oe,C as se,B as re,ae as ce,b as I,Y as ie,D as R,g as w,E as P,w as K,p as de}from"./LoadingOutlined.BFkAxzyV.js";import{V as ve}from"./Checkbox.CYa6__iO.js";import{a as Y,F as fe}from"./FormItemContext.CuFDkfIX.js";import{u as q}from"./index.BYshCuJZ.js";const me=()=>({name:String,prefixCls:String,options:F([]),disabled:Boolean,id:String}),be=()=>b(b({},me()),{defaultValue:F(),value:F(),onChange:S(),"onUpdate:value":S()}),he=()=>({prefixCls:String,defaultChecked:m(),checked:m(),disabled:m(),isGroup:m(),value:ne.any,name:String,id:String,indeterminate:m(),type:te("checkbox"),autofocus:m(),onChange:S(),"onUpdate:checked":S(),onClick:S(),skipGroup:m(!1)}),ge=()=>b(b({},he()),{indeterminate:m(!1)}),J=Symbol("CheckboxGroupContext");var z=function(e,h){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&h.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)h.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const O=H({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:ge(),setup(e,h){let{emit:o,attrs:t,slots:r,expose:j}=h;const C=Y(),M=fe.useInject(),{prefixCls:c,direction:g,disabled:_}=X("checkbox",e),A=le(),[i,f]=q(c),l=ue(J,void 0),p=Symbol("checkboxUniId"),G=y(()=>(l==null?void 0:l.disabled.value)||_.value);oe(()=>{!e.skipGroup&&l&&l.registerValue(p,e.value)}),se(()=>{l&&l.cancelValue(p)}),re(()=>{ce(!!(e.checked!==void 0||l||e.value===void 0))});const $=a=>{const s=a.target.checked;o("update:checked",s),o("change",a),C.onFieldChange()},x=I();return j({focus:()=>{var a;(a=x.value)===null||a===void 0||a.focus()},blur:()=>{var a;(a=x.value)===null||a===void 0||a.blur()}}),()=>{var a;const s=ie((a=r.default)===null||a===void 0?void 0:a.call(r)),{indeterminate:u,skipGroup:d,id:T=C.id.value}=e,D=z(e,["indeterminate","skipGroup","id"]),{onMouseenter:E,onMouseleave:k,onInput:pe,class:Q,style:W}=t,Z=z(t,["onMouseenter","onMouseleave","onInput","class","style"]),v=b(b(b(b({},D),{id:T,prefixCls:c.value}),Z),{disabled:G.value});l&&!d?(v.onChange=function(){for(var B=arguments.length,N=new Array(B),V=0;V<B;V++)N[V]=arguments[V];o("change",...N),l.toggleOption({label:s,value:e.value})},v.name=l.name.value,v.checked=l.mergedValue.value.includes(e.value),v.disabled=G.value||A.value,v.indeterminate=u):v.onChange=$;const ee=R({["".concat(c.value,"-wrapper")]:!0,["".concat(c.value,"-rtl")]:g.value==="rtl",["".concat(c.value,"-wrapper-checked")]:v.checked,["".concat(c.value,"-wrapper-disabled")]:v.disabled,["".concat(c.value,"-wrapper-in-form-item")]:M.isFormItemInput},Q,f.value),ae=R({["".concat(c.value,"-indeterminate")]:u},f.value);return i(w("label",{class:ee,style:W,onMouseenter:E,onMouseleave:k},[w(ve,P(P({"aria-checked":u?"mixed":void 0},v),{},{class:ae,ref:x}),null),s.length?w("span",null,[s]):null]))}}}),U=H({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:be(),setup(e,h){let{slots:o,attrs:t,emit:r,expose:j}=h;const C=Y(),{prefixCls:M,direction:c}=X("checkbox",e),g=y(()=>"".concat(M.value,"-group")),[_,A]=q(g),i=I((e.value===void 0?e.defaultValue:e.value)||[]);K(()=>e.value,()=>{i.value=e.value||[]});const f=y(()=>e.options.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n)),l=I(Symbol()),p=I(new Map),G=n=>{p.value.delete(n),l.value=Symbol()},$=(n,a)=>{p.value.set(n,a),l.value=Symbol()},x=I(new Map);return K(l,()=>{const n=new Map;for(const a of p.value.values())n.set(a,!0);x.value=n}),de(J,{cancelValue:G,registerValue:$,toggleOption:n=>{const a=i.value.indexOf(n.value),s=[...i.value];a===-1?s.push(n.value):s.splice(a,1),e.value===void 0&&(i.value=s);const u=s.filter(d=>x.value.has(d)).sort((d,T)=>{const D=f.value.findIndex(k=>k.value===d),E=f.value.findIndex(k=>k.value===T);return D-E});r("update:value",u),r("change",u),C.onFieldChange()},mergedValue:i,name:y(()=>e.name),disabled:y(()=>e.disabled)}),j({mergedValue:i}),()=>{var n;const{id:a=C.id.value}=e;let s=null;return f.value&&f.value.length>0&&(s=f.value.map(u=>{var d;return w(O,{prefixCls:M.value,key:u.value.toString(),disabled:"disabled"in u?u.disabled:e.disabled,indeterminate:u.indeterminate,value:u.value,checked:i.value.indexOf(u.value)!==-1,onChange:u.onChange,class:"".concat(g.value,"-item")},{default:()=>[o.label!==void 0?(d=o.label)===null||d===void 0?void 0:d.call(o,u):u.label]})})),_(w("div",P(P({},t),{},{class:[g.value,{["".concat(g.value,"-rtl")]:c.value==="rtl"},t.class,A.value],id:a}),[s||((n=o.default)===null||n===void 0?void 0:n.call(o))]))}}});O.Group=U;O.install=function(e){return e.component(O.name,O),e.component(U.name,U),e};export{O as C};
