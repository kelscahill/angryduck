import{x as q,a6 as X,d as G,z as s,b as J,ae as Q,a9 as Y,A as Z,c as I,af as ee,ag as oe,D as te,g as r,E as k,ah as f,U as ne,a4 as j}from"./LoadingOutlined.BFkAxzyV.js";import{P as ae}from"./index.B2U_dx8i.js";import{t as le,a as ie}from"./index.BVxneXNm.js";import{i as re}from"./initDefaultProps.0LfrQis0.js";import{c as z,B as se}from"./index.Bdw1ik1L.js";import{a as ce,E as pe}from"./ExclamationCircleFilled.CrW3q_TN.js";import{u as ue}from"./useMergedState.DXdtLiCT.js";import{K as me}from"./KeyCode.B_gOgbN6.js";import{a as fe}from"./vnode.BC_D2aP8.js";import{o as de}from"./omit.DTkbSo29.js";import{A as ve}from"./ActionButton.CECSKzhY.js";const ge=o=>{const{componentCls:l,iconCls:n,zIndexPopup:a,colorText:i,colorWarning:y,marginXS:u,fontSize:c,fontWeightStrong:P,lineHeight:m}=o;return{[l]:{zIndex:a,["".concat(l,"-inner-content")]:{color:i},["".concat(l,"-message")]:{position:"relative",marginBottom:u,color:i,fontSize:c,display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(l,"-message-icon ").concat(n)]:{color:y,fontSize:c,flex:"none",lineHeight:1,paddingTop:(Math.round(c*m)-c)/2},"&-title":{flex:"auto",marginInlineStart:u},"&-title-only":{fontWeight:P}},["".concat(l,"-description")]:{position:"relative",marginInlineStart:c+u,marginBottom:u,color:i,fontSize:c},["".concat(l,"-buttons")]:{textAlign:"end",button:{marginInlineStart:u}}}}},Ce=q("Popconfirm",o=>ge(o),o=>{const{zIndexPopupBase:l}=o;return{zIndexPopup:l+60}});var ye=function(o,l){var n={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(n[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(o);i<a.length;i++)l.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(o,a[i])&&(n[a[i]]=o[a[i]]);return n};const Pe=()=>s(s({},ie()),{prefixCls:String,content:f(),title:f(),description:f(),okType:ne("primary"),disabled:{type:Boolean,default:!1},okText:f(),cancelText:f(),icon:f(),okButtonProps:j(),cancelButtonProps:j(),showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function}),xe=G({compatConfig:{MODE:3},name:"APopconfirm",inheritAttrs:!1,props:re(Pe(),s(s({},le()),{trigger:"click",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:Object,setup(o,l){let{slots:n,emit:a,expose:i,attrs:y}=l;const u=J();Q(o.visible===void 0),i({getPopupDomNode:()=>{var e,t;return(t=(e=u.value)===null||e===void 0?void 0:e.getPopupDomNode)===null||t===void 0?void 0:t.call(e)}});const[c,P]=ue(!1,{value:Y(o,"open")}),m=(e,t)=>{o.open===void 0&&P(e),a("update:open",e),a("openChange",e,t)},D=e=>{m(!1,e)},O=e=>{var t;return(t=o.onConfirm)===null||t===void 0?void 0:t.call(o,e)},A=e=>{var t;m(!1,e),(t=o.onCancel)===null||t===void 0||t.call(o,e)},E=e=>{e.keyCode===me.ESC&&c&&m(!1,e)},R=e=>{const{disabled:t}=o;t||m(e)},{prefixCls:p,getPrefixCls:h}=Z("popconfirm",o),F=I(()=>h()),K=I(()=>h("btn")),[L]=Ce(p),[S]=ee("Popconfirm",oe.Popconfirm),V=()=>{var e,t,d,v,g;const{okButtonProps:C,cancelButtonProps:x,title:b=(e=n.title)===null||e===void 0?void 0:e.call(n),description:T=(t=n.description)===null||t===void 0?void 0:t.call(n),cancelText:W=(d=n.cancel)===null||d===void 0?void 0:d.call(n),okText:H=(v=n.okText)===null||v===void 0?void 0:v.call(n),okType:_,icon:B=((g=n.icon)===null||g===void 0?void 0:g.call(n))||r(pe,null,null),showCancel:M=!0}=o,{cancelButton:$,okButton:w}=n,N=s({onClick:A,size:"small"},x),U=s(s(s({onClick:O},z(_)),{size:"small"}),C);return r("div",{class:"".concat(p.value,"-inner-content")},[r("div",{class:"".concat(p.value,"-message")},[B&&r("span",{class:"".concat(p.value,"-message-icon")},[B]),r("div",{class:["".concat(p.value,"-message-title"),{["".concat(p.value,"-message-title-only")]:!!T}]},[b])]),T&&r("div",{class:"".concat(p.value,"-description")},[T]),r("div",{class:"".concat(p.value,"-buttons")},[M?$?$(N):r(se,N,{default:()=>[W||S.value.cancelText]}):null,w?w(U):r(ve,{buttonProps:s(s({size:"small"},z(_)),C),actionFn:O,close:D,prefixCls:K.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:()=>[H||S.value.okText]})])])};return()=>{var e;const{placement:t,overlayClassName:d,trigger:v="click"}=o,g=ye(o,["placement","overlayClassName","trigger"]),C=de(g,["title","content","cancelText","okText","onUpdate:open","onConfirm","onCancel","prefixCls"]),x=te(p.value,d);return L(r(ae,k(k(k({},C),y),{},{trigger:v,placement:t,onOpenChange:R,open:c.value,overlayClassName:x,transitionName:ce(F.value,"zoom-big",o.transitionName),ref:u,"data-popover-inject":!0}),{default:()=>[fe(((e=n.default)===null||e===void 0?void 0:e.call(n))||[],{onKeydown:b=>{E(b)}},!1)],content:V}))}}}),Ie=X(xe);export{Ie as P};
